!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){t.exports=i.p+"7761107bf2a61c49887ec7b257be9056.png"},function(t,e,i){"use strict";i.r(e);var n,a=function(){function t(){var t=this;this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=function(e){t.updateFunctions.push(e)},this.removeUpdateFunction=function(e){t.updateFunctions.splice(t.updateFunctions.indexOf(e),1)},this.setFps=function(e){t.fps=e,t.fpsInterval=1e3/t.fps},this.animationLoop=function(){t.isRunning&&requestAnimationFrame(t.animationLoop);var e=Date.now(),i=e-t.lastFrameTime;if(i>t.fpsInterval){t.lastFrameTime=e;for(var n=i/1e3,a=0,r=t.updateFunctions;a<r.length;a++){(0,r[a])(n)}}},this.setFps(30),this.play(),document.addEventListener("keyup",function(e){80==e.keyCode&&t.playPause()})}return t.prototype.play=function(){this.isRunning||(console.log("play"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())},t.prototype.pause=function(){this.isRunning&&(console.log("pause"),this.isRunning=!1)},t.prototype.playPause=function(){this.isRunning?this.pause():this.play()},t}(),r=function(){return function(t){this.audioCtx=t}}(),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.analyserNode||e.initialize(),e.analyserNode},e}return o(e,t),e.prototype.initialize=function(){this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength)},e.prototype.getSpectrum=function(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)},e.prototype.getWave=function(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)},e}(r),u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.audioCtx.destination},e}return u(e,t),e}(r),d=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e,i){var n=t.call(this,e)||this;return n.getAudioNode=function(){return n.source||n.initialize(),n.source},n.url=i,n}return d(e,t),e.prototype.initialize=function(){var t=this;this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.source=this.audioCtx.createMediaElementSource(this.audio),setTimeout(function(){t.audio.play()},5e3)},e}(r),l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.source||e.initialize(),e.source},e}return l(e,t),e.prototype.initialize=function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){t.source=t.audioCtx.createMediaStreamSource(e)}).catch(function(t){alert("error1923012258")})},e}(r),f=function(){function t(){var t=this;this.playUrl=function(e){t.sourceNode=new c(t.audioCtx,e),"running"===t.audioCtx.state&&t.buildGraph()},this.playStream=function(){t.sourceNode=new p(t.audioCtx),"running"===t.audioCtx.state&&t.buildGraph()},this.documentClick=function(){"suspended"===t.audioCtx.state&&(t.audioCtx.resume(),document.removeEventListener("click",t.documentClick))},this.audioContextStateChanged=function(){"running"===t.audioCtx.state&&(t.audioCtx.removeEventListener("statechange",t.audioContextStateChanged),t.buildGraph())},this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChanged),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.analyzerNode=new s(this.audioCtx),this.destinationNode=new h(this.audioCtx)}return t.prototype.buildGraph=function(){var t=this;console.log("Building audio graph."),this.sourceNode.getAudioNode()?(this.sourceNode.getAudioNode().disconnect(),this.analyzerNode.getAudioNode().disconnect(),this.destinationNode.getAudioNode().disconnect(),this.sourceNode.getAudioNode().connect(this.analyzerNode.getAudioNode()),this.analyzerNode.getAudioNode().connect(this.destinationNode.getAudioNode())):(console.log("Audio source not available. Waiting some time."),setTimeout(function(){t.buildGraph()},1e3))},t.prototype.getSpectrum=function(){return this.analyzerNode.getSpectrum()},t.prototype.getWave=function(){return this.analyzerNode.getWave()},t}(),g=function(){function t(){var t=this;this.drawFunctions=[],this.resize=function(){console.log("canvas.resize()"),t.canvas.width=t.canvas.clientWidth,t.canvas.height=t.canvas.clientHeight},this.draw=function(){for(var e=0,i=t.drawFunctions;e<i.length;e++){(0,i[e])(t.ctx,t.width,t.height)}},this.addDrawFunction=function(e){t.drawFunctions.push(e)},this.removeDrawFunction=function(e){t.drawFunctions.splice(t.drawFunctions.indexOf(e),1)}}return Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),t.createFullScreen=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var e=document.createElement("canvas");document.body.appendChild(e),e.style.width="100%",e.style.height="100%";var i=new t;return i.canvas=e,i.ctx=e.getContext("2d"),window.addEventListener("resize",i.resize),i.resize(),i},t}(),m=i(0),y=i.n(m),v=function(){function t(t){var e=this;this.animation=t,this.limit=5,this.spawnWaiter=0,this.shootingStars=[],this.process=function(t,i,n,a){if(e.shootingStars.length<=e.limit&&e.spawnWaiter<=0){if(Math.random()*t>.9){var r=n/2-Math.cos(i)*n/1.5+(n*Math.random()-n/2),o=a/2-Math.sin(i)*n/1.5+(a*Math.random()-a/2);console.log("shooting star"),e.shootingStars.push({x:r,y:o,angle:i+Math.PI/16*Math.random()-Math.PI/32,speed:600+200*Math.random(),size:Math.round(3*Math.random())+2}),e.spawnWaiter=50}}else e.spawnWaiter--},this.update=function(t){for(var i=0;i<e.shootingStars.length;i++){var n=e.shootingStars[i];n.x+=Math.cos(n.angle)*t*n.speed,n.y+=Math.sin(n.angle)*t*n.speed}},this.draw=function(t,i,n){var a=[];t.fillStyle="white",t.strokeStyle="white",t.lineCap="round";for(var r=0;r<e.shootingStars.length;r++){for(var o=e.shootingStars[r],s=o.size;s>0;s-=.5)e.drawShootingStarPart(t,.5,o,s*s*s);t.arc(o.x,o.y,1,0,2*Math.PI),t.fill(),(o.x>3*i||o.x<2*-i||o.y>3*n||o.y<2*-n)&&a.push(r)}for(r=a.length-1;r>=0;r--){var u=a[r];e.shootingStars.splice(u,1)}},this.animation.addUpdateFunction(this.update)}return t.prototype.drawShootingStarPart=function(t,e,i,n){t.beginPath(),t.lineWidth=e,t.moveTo(i.x,i.y),t.lineTo(i.x-Math.cos(i.angle)*n,i.y-Math.sin(i.angle)*n),t.stroke()},t}(),w=function(){return function(){}}(),x=function(){function t(){}return t.changeFavicon=function(t){var e=document.createElement("link"),i=document.getElementById("dynamic-favicon");e.id="dynamic-favicon",e.rel="shortcut icon",e.href=t,i&&document.head.removeChild(i),document.head.appendChild(e)},t.getPixels=function(t){var e=[],i=document.createElement("canvas");i.width=1e3,i.height=200;var n=i.getContext("2d");n.fillStyle="black",n.fillRect(0,0,i.width,i.height),n.fillStyle="white",n.textAlign="left",n.textBaseline="top";n.font="50px Garamond",n.fillText(t,0,0);for(var a=n.measureText(t).width,r=n.getImageData(0,0,a,50),o=0;o<r.data.length;o+=4){var s=r.data[o],u=r.data[o+1],h=r.data[o+2];r.data[o+3];s+u+h>300&&e.push({x:o/4-Math.floor(o/4/r.width)*r.width,y:Math.floor(o/4/r.width)})}var d=new w;return d.pixels=e,d.width=a,d.height=50,d},t.colorImage=function(t,e){t.onload=function(){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0);for(var a=n.getImageData(0,0,i.width,i.height),r=0;r<a.data.length;r+=4){var o=a.data[r],s=a.data[r+1],u=a.data[r+2];if(a.data[r+3]>.5&&o-s>50&&o-u>50){e=e;var h,d,c,l=.5,p=l*(1-Math.abs(e/60%2-1));e<60?(h=l,d=p,c=0):e<120?(h=p,d=l,c=0):e<180?(h=0,d=l,c=p):e<240?(h=0,d=p,c=l):e<300?(h=p,d=0,c=l):(h=l,d=0,c=p),h=255*(h+0),d=255*(d+0),c=255*(c+0),a.data[r]=h,a.data[r+1]=d,a.data[r+2]=c}}n.putImageData(a,0,0),t.src=i.toDataURL(),t.onload=function(){}}},t.colorImageAny=function(t,e){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0);for(var a=n.getImageData(0,0,i.width,i.height),r=0;r<a.data.length;r+=4){a.data[r],a.data[r+1],a.data[r+2];if(a.data[r+3]>.5){e=e;var o,s,u,h=.5,d=h*(1-Math.abs(e/60%2-1));e<60?(o=h,s=d,u=0):e<120?(o=d,s=h,u=0):e<180?(o=0,s=h,u=d):e<240?(o=0,s=d,u=h):e<300?(o=d,s=0,u=h):(o=h,s=0,u=d),o=255*(o+0),s=255*(s+0),u=255*(u+0),a.data[r]=o,a.data[r+1]=s,a.data[r+2]=u}}n.putImageData(a,0,0),t.src=i.toDataURL()},t.getImageData=function(t,e){t.onload=function(){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0),e(n.getImageData(0,0,i.width,i.height))}},t}(),S=(function(){function t(t,e,i,n){var a=this;this.animation=t,this.animationStart=i,this.endTime=n,this.animatedPixels=[],this.isInitialized=!1,this.isDeinitialized=!1,this.process=function(t,e,i){if(!a.isInitialized){a.isInitialized=!0;for(var n=0;n<a.pixels.pixels.length;n++)if(Math.random()>.5){var r=a.pixels.pixels[n],o=Math.random()*e,s=Math.random()*i;a.animatedPixels.push({startX:o,startY:s,x:o,y:s,targetX:e/2-a.pixels.width/2+r.x,targetY:i/4*3-a.pixels.height/2+r.y,startSize:0,size:0,targetSize:1.5*Math.random()+.5,animationDuration:4*Math.random()+2,animationStart:a.animationStart+Math.random()})}}if(a.endTime<=Date.now()/1e3&&!a.isDeinitialized){a.isDeinitialized=!0;for(n=0;n<a.animatedPixels.length;n++){var u=a.animatedPixels[n],h=Math.random()*e,d=Math.random()*i;a.animatedPixels[n]={startX:u.x,startY:u.y,x:u.x,y:u.y,targetX:h,targetY:d,startSize:u.size,size:u.size,targetSize:0,animationDuration:2*Math.random()+1.5,animationStart:Date.now()/1e3+Math.random()}}}},this.update=function(t){var e=Date.now()/1e3;if(e>=a.animationStart&&e<=a.endTime+10)for(var i=0;i<a.animatedPixels.length;i++){var n=a.animatedPixels[i];if(n.animationStart&&e>=n.animationStart){var r=a.isDeinitialized?b.easeOutQuart:b.easeInQuart,o=new S(n.animationStart,e,n.animationDuration,r);n.x=o.getValue(n.startX,n.targetX),n.y=o.getValue(n.startY,n.targetY),n.size=o.getValue(n.startSize,n.targetSize)}}},this.draw=function(t,e,i){if(Date.now()/1e3>=a.animationStart){t.strokeStyle="#a3d3ff",t.fillStyle="#13c3ff";for(var n=0;n<a.animatedPixels.length;n++){var r=a.animatedPixels[n];t.beginPath(),t.arc(r.x,r.y,r.size,0,2*Math.PI),t.fill()}}},this.animation.addUpdateFunction(this.update),this.pixels=x.getPixels(e);for(var r=0;r<this.pixels.pixels.length;r++)this.pixels.pixels[r].x*=2,this.pixels.pixels[r].y*=2;this.pixels.width*=2,this.pixels.height*=2}t.prototype.ease=function(t,e,i,n,a,r){var o=(e-t)/i;return n+r(o=o>1?1:o)/r(1)*(a-n)}}(),function(){return function(t,e,i,n){var a=this;this.getValue=function(t,e){return t+(e-t)*(a.scaledT/a.maxScaledT)};var r=(e-t)/i;r=r>1?1:r,this.scaledT=n(r),this.maxScaledT=n(1)}}()),b=function(){function t(){}return t.linear=function(t){return t},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){return--t*t*t+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){return 1- --t*t*t*t},t.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){return 1+--t*t*t*t*t},t.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},t}(),M=function(){return function(t){var e=this;this.audioGraph=t,this.drawSpectrum=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=i/r,s=0;s<r;s++){var u=a[s]/2;t.fillStyle="hsl("+(230-u/150*50)+", 100%, "+(u/150*50+20)+"%)",t.fillRect(s*o,n,.5*o,2*-u)}},this.drawWave=function(t,i,n){var a=e.audioGraph.getWave(),r=a.length;t.lineWidth=2,t.strokeStyle="rgb(150, 150, 150)",t.beginPath();for(var o=i/(r-1),s=0,u=0;u<r;u++){var h=a[u]/128*n/2;0===u?t.moveTo(s,h):t.lineTo(s,h),s+=o}t.stroke()},this.drawSpectrumArc=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=0;o<r;o++){var s=2*Math.PI/r*o,u=50+a[o],h=Math.cos(s)*u,d=Math.sin(s)*u;t.beginPath(),t.moveTo(i/2,n/2),t.lineTo(i/2+h,n/2+d),t.strokeStyle="hsl("+(230-u/150*50)+", 100%, "+(u/150*50+20)+"%)",t.lineWidth=5,t.stroke()}},this.drawSpectrumArcV2=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=0;o<r;o++){var s=2*Math.PI/r*o,u=2*Math.PI/r*(o+1),h=a[o];t.beginPath(),t.moveTo(i/2,n/2),t.arc(i/2,n/2,h,s,u),t.fillStyle="hsl("+(230-(h-100)/150*50)+", 100%, "+((h-100)/150*50+20)+"%)",t.fill()}}}}(),I=function(){function t(t,e,i){var n=this;this.audioGraph=t,this.canvas=e,this.animation=i,this.frequencyIndex=7,this.imageWidth=0,this.imageHeight=0,this.lowerBorder=0,this.upperBorder=.8,this.numberOfStars=1e3,this.inspiertyVisV3=function(t,e,i){var a=n.audioGraph.getSpectrum(),r=n.calculateRelDataValue(a[n.frequencyIndex]);n.shootingStarProcessor.process(r,n.angle,e,i),n.drawStars(t,e,i),t.fillStyle="rgba(0, 0, 0, "+(1-r/2-.4)+")",t.fillRect(0,0,e,i),n.shootingStarProcessor.draw(t,e,i),n.drawRelDataValue&&(t.fillStyle="white",t.fillRect(0,i,50,-i*r)),n.drawImage(e,i,t,r)},this.angle=.3*Math.PI,this.targetAngle=this.angle,this.clockwise=1,this.speed=4,this.targetSpeed=this.speed,this.stars=[],this.updateStars=function(t){n.angling(t),n.speeding(t);for(var e=0;e<n.stars.length;e++){var i=n.stars[e];i.x+=Math.cos(n.angle)*t*4,i.y+=Math.sin(n.angle)*t*4}},this.drawStars=function(t,e,i){for(;n.stars.length<n.numberOfStars;)n.addStar(e,i);if(Math.random()>.9)for(var a=0;a<Math.round(5*Math.random());a++)n.stars.splice(0,1);t.fillStyle="white";for(a=0;a<n.stars.length;a++){var r=n.stars[a];t.beginPath(),t.arc(r.x,r.y,r.size/2,0,2*Math.PI),t.fill(),r.x>e?r.x=r.x-e:r.x<0&&(r.x=r.x+e),r.y>i?r.y=r.y-i:r.y<0&&(r.y=r.y+i)}},this.inspiertyLogoImage=new Image,this.inspiertyLogoImage.src=y.a,this.shootingStarProcessor=new v(this.animation);var a=new M(this.audioGraph);console.log(window.location.search);var r=window.location.search.substr(1).split("&").map(function(t){return t.split("=")}),o=["fi - frequencyIndex - 7","lb - lowerBorder - 0","ub - upperBorder - 0.8","spec - spec","rel - drawRelDataValue","fps - fps - 30","nos - numberOfStars - 1000"];console.log("methods:");for(var s=0;s<o.length;s++){var u=o[s];console.log(u)}for(var h=0,d=r;h<d.length;h++){var c=d[h];switch(c[0]){case"fi":this.frequencyIndex=+c[1];break;case"lb":this.lowerBorder=+c[1];break;case"ub":this.upperBorder=+c[1];break;case"spec":this.canvas.addDrawFunction(a.drawSpectrum);break;case"rel":this.drawRelDataValue=!0;break;case"fps":this.animation.setFps(+c[1]);break;case"nos":this.numberOfStars=+c[1]}}this.animation.addUpdateFunction(this.updateStars),this.canvas.addDrawFunction(this.inspiertyVisV3)}return t.prototype.drawImage=function(t,e,i,n){var a,r;this.imageWidth||(this.inspiertyLogoImage.naturalWidth/this.inspiertyLogoImage.naturalHeight>t/e?(a=t,r=this.inspiertyLogoImage.naturalHeight/this.inspiertyLogoImage.naturalWidth*t):(a=this.inspiertyLogoImage.naturalWidth/this.inspiertyLogoImage.naturalHeight*e,r=e),this.imageWidth=.8*a,this.imageHeight=.8*r);var o=e/3-this.imageHeight/2;i.drawImage(this.inspiertyLogoImage,t/2-this.imageWidth/2,o,this.imageWidth,this.imageHeight),i.beginPath(),i.globalCompositeOperation="lighter";var s=t/2-this.imageWidth/2+.4872*this.imageWidth,u=o+.4105*this.imageHeight,h=.0494*this.imageHeight*(n/2+.7)+0;if(s&&u&&h){var d=i.createRadialGradient(s,u,0,s,u,h);d.addColorStop(0,"rgba(255, 255, 255, "+n/2+")"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=d,i.arc(s,u,h,0,2*Math.PI),i.fill(),i.globalCompositeOperation="source-over"}},t.prototype.ease=function(t,e,i,n,a){var r=(e-t)/i;return r=r>1?1:r,n+b.easeInOutQuad(r)/b.easeInOutQuad(1)*(a-n)},t.prototype.addStar=function(t,e){this.stars.push({x:Math.random()*t,y:Math.random()*e,size:Math.random()*(t/600)+.4})},t.prototype.speeding=function(t){this.speed==this.targetSpeed?this.targetSpeed=10*Math.random()+2:this.speed>this.targetSpeed?(this.speed-=.1*t,this.speed<this.targetSpeed&&(this.speed=this.targetSpeed)):(this.speed+=.1*t,this.speed>this.targetSpeed&&(this.speed=this.targetSpeed))},t.prototype.angling=function(t){if(this.angle==this.targetAngle){var e=Math.random()*Math.PI-Math.PI/2;this.targetAngle+=e,this.clockwise=e<0?-1:1}else{var i=.06*t*this.clockwise;this.angle<=this.targetAngle&&this.angle+i>=this.targetAngle||this.angle>=this.targetAngle&&this.angle+i<=this.targetAngle?this.angle=this.targetAngle:this.angle+=.06*t*this.clockwise}},t.prototype.calculateRelDataValue=function(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)},t}(),P=function(){function t(){this.preAnimation=function(t,e,i){t.clearRect(0,0,e,i)}}return t.prototype.run=function(){document.body.style.backgroundColor="black",this.canvas=g.createFullScreen(),this.animation=new a,this.animation.addUpdateFunction(this.canvas.draw),this.audioGraph=new f,this.audioGraph.playStream(),this.canvas.addDrawFunction(this.preAnimation);new I(this.audioGraph,this.canvas,this.animation)},t}();document.addEventListener("DOMContentLoaded",function(){(new P).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9Mb2dvLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hdWRpby9hdWRpb0dyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvZUNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hvb3RpbmdTdGFyUHJvY2Vzc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvaW1hZ2VQaXhlbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RleHRQcm9jZXNzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9zYW1wbGVzL2F1ZGlvVmlzdWFsaXphdGlvblNhbXBsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luc3BpZXJ0eUF1ZGlvVmlzdWFsaXphdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkVBbmltYXRpb24iLCJfdGhpcyIsInRoaXMiLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJhZGRVcGRhdGVGdW5jdGlvbiIsImZ1bmMiLCJwdXNoIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJzcGxpY2UiLCJpbmRleE9mIiwic2V0RnBzIiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRpb25Mb29wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJfaSIsIl9hIiwibGVuZ3RoIiwidXBkYXRlRnVuY3Rpb24iLCJwbGF5IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiY29uc29sZSIsImxvZyIsInBhdXNlIiwiQXVkaW9HcmFwaE5vZGUiLCJhdWRpb0N0eCIsIkF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIiLCJfc3VwZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEF1ZGlvTm9kZSIsImFuYWx5c2VyTm9kZSIsImluaXRpYWxpemUiLCJfX2V4dGVuZHMiLCJjcmVhdGVBbmFseXNlciIsImZmdFNpemUiLCJzbW9vdGhpbmdUaW1lQ29uc3RhbnQiLCJidWZmZXJMZW5ndGgiLCJmcmVxdWVuY3lCaW5Db3VudCIsImRhdGFBcnJheSIsIlVpbnQ4QXJyYXkiLCJnZXRTcGVjdHJ1bSIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiZ2V0V2F2ZSIsImdldEJ5dGVUaW1lRG9tYWluRGF0YSIsIkF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb25fZXh0ZW5kcyIsIkF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSIsInVybCIsInNvdXJjZSIsImF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZV9leHRlbmRzIiwiYXVkaW8iLCJjcmVhdGVFbGVtZW50IiwiY29udHJvbHMiLCJzcmMiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJzZXRUaW1lb3V0IiwiQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UiLCJhdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZV9leHRlbmRzIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJ0aGVuIiwic3RyZWFtIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJjYXRjaCIsImVyciIsImFsZXJ0IiwiYXVkaW9HcmFwaF9BdWRpb0dyYXBoIiwiQXVkaW9HcmFwaCIsInBsYXlVcmwiLCJzb3VyY2VOb2RlIiwic3RhdGUiLCJidWlsZEdyYXBoIiwicGxheVN0cmVhbSIsImRvY3VtZW50Q2xpY2siLCJyZXN1bWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkIiwiQXVkaW9Db250ZXh0IiwiYW5hbHl6ZXJOb2RlIiwiZGVzdGluYXRpb25Ob2RlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJFQ2FudmFzIiwiZHJhd0Z1bmN0aW9ucyIsInJlc2l6ZSIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiZHJhd0Z1bmN0aW9uIiwiY3R4IiwiYWRkRHJhd0Z1bmN0aW9uIiwicmVtb3ZlRHJhd0Z1bmN0aW9uIiwiY3JlYXRlRnVsbFNjcmVlbiIsImJvZHkiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJtYXJnaW4iLCJvdmVyZmxvdyIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiU2hvb3RpbmdTdGFyUHJvY2Vzc29yIiwiYW5pbWF0aW9uIiwibGltaXQiLCJzcGF3bldhaXRlciIsInNob290aW5nU3RhcnMiLCJwcm9jZXNzIiwicmVsRGF0YVZhbHVlIiwiYW5nbGUiLCJNYXRoIiwicmFuZG9tIiwieCIsImNvcyIsInkiLCJzaW4iLCJQSSIsInNwZWVkIiwic2l6ZSIsInJvdW5kIiwidXBkYXRlIiwic2hvb3RpbmdTdGFyIiwicmVtb3ZlSXMiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsImxpbmVDYXAiLCJqIiwiZHJhd1Nob290aW5nU3RhclBhcnQiLCJhcmMiLCJmaWxsIiwicmVtb3ZlSSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsIkltYWdlUGl4ZWxzIiwiaGVscGVyX0hlbHBlciIsIkhlbHBlciIsImNoYW5nZUZhdmljb24iLCJsaW5rIiwib2xkTGluayIsImdldEVsZW1lbnRCeUlkIiwiaWQiLCJyZWwiLCJocmVmIiwiaGVhZCIsInJlbW92ZUNoaWxkIiwiZ2V0UGl4ZWxzIiwidGV4dCIsInBpeGVscyIsImZpbGxSZWN0IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZm9udCIsImZpbGxUZXh0IiwibWVhc3VyZVRleHQiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwiZyIsImIiLCJmbG9vciIsInJlc3VsdCIsImNvbG9ySW1hZ2UiLCJpbWFnZSIsImgiLCJvbmxvYWQiLCJ0ZW1wQ2FudmFzIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsInRlbXBDdHgiLCJkcmF3SW1hZ2UiLCJyeCIsImd4IiwiYngiLCJlIiwiYWJzIiwicHV0SW1hZ2VEYXRhIiwidG9EYXRhVVJMIiwiY29sb3JJbWFnZUFueSIsImNhbGxiYWNrIiwiRWFzZXIiLCJUZXh0UHJvY2Vzc29yIiwiYW5pbWF0aW9uU3RhcnQiLCJlbmRUaW1lIiwiYW5pbWF0ZWRQaXhlbHMiLCJpc0luaXRpYWxpemVkIiwiaXNEZWluaXRpYWxpemVkIiwicGl4ZWwiLCJzdGFydFgiLCJzdGFydFkiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsInN0YXJ0U2l6ZSIsInRhcmdldFNpemUiLCJhbmltYXRpb25EdXJhdGlvbiIsInRpbWUiLCJlYXNpbmciLCJFYXNpbmdGdW5jdGlvbnMiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5RdWFydCIsImVhc2UiLCJnZXRWYWx1ZSIsInN0YXJ0VGltZSIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJzdGFydFZhbHVlIiwidGFyZ2V0VmFsdWUiLCJlYXNlRnVuYyIsInRSZWwiLCJzY2FsZWRUIiwibWF4U2NhbGVkVCIsImxpbmVhciIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiQXVkaW9WaXN1YWxpemF0aW9uU2FtcGxlcyIsImF1ZGlvR3JhcGgiLCJkcmF3U3BlY3RydW0iLCJiYXJXaWR0aCIsImJhckhlaWdodCIsImRyYXdXYXZlIiwic2xpY2VXaWR0aCIsImRyYXdTcGVjdHJ1bUFyYyIsInBpUGFydCIsImRyYXdTcGVjdHJ1bUFyY1YyIiwicGlQYXJ0MiIsImluc3BpZXJ0eUF1ZGlvVmlzdWFsaXphdGlvbl9JbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb24iLCJJbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb24iLCJmcmVxdWVuY3lJbmRleCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsImxvd2VyQm9yZGVyIiwidXBwZXJCb3JkZXIiLCJudW1iZXJPZlN0YXJzIiwiaW5zcGllcnR5VmlzVjMiLCJjYWxjdWxhdGVSZWxEYXRhVmFsdWUiLCJzaG9vdGluZ1N0YXJQcm9jZXNzb3IiLCJkcmF3U3RhcnMiLCJkcmF3UmVsRGF0YVZhbHVlIiwidGFyZ2V0QW5nbGUiLCJjbG9ja3dpc2UiLCJ0YXJnZXRTcGVlZCIsInN0YXJzIiwidXBkYXRlU3RhcnMiLCJhbmdsaW5nIiwic3BlZWRpbmciLCJzdGFyIiwiYWRkU3RhciIsImluc3BpZXJ0eUxvZ29JbWFnZSIsIkltYWdlIiwiTG9nb19kZWZhdWx0IiwiYSIsInNhbXBsZXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImtleVZhbHVlcyIsInN1YnN0ciIsInNwbGl0IiwibWFwIiwibWV0aG9kcyIsIm1ldGhvZCIsImtleVZhbHVlc18xIiwiaXRlbSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsIm5vdmFYIiwibm92YVkiLCJub3ZhUiIsImdyYWQiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInRhcmdldERlbHRhIiwic3RlcERlbHRhIiwiZGF0YVZhbHVlIiwiYXBwX0FwcCIsIkFwcCIsInByZUFuaW1hdGlvbiIsImNsZWFyUmVjdCIsInJ1biIsImJhY2tncm91bmRDb2xvciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixH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LEtBQUtzSCxVQUFZLElBQUl4SCxFQUNyQkUsS0FBS3NILFVBQVVuSCxrQkFBa0JILEtBQUtpRyxPQUFPSyxNQUU3Q3RHLEtBQUtnUCxXQUFhLElBQUlsSyxFQUV0QjlFLEtBQUtnUCxXQUFXNUosYUFFaEJwRixLQUFLaUcsT0FBT1EsZ0JBQWdCekcsS0FBSzJTLGNBRVIsSUFBSWpELEVBQTRCMVAsS0FBS2dQLFdBQVloUCxLQUFLaUcsT0FBUWpHLEtBQUtzSCxZQU1wR29MLEVBdkJBLEdDSkFsUixTQUFTQyxpQkFBaUIsbUJBRTFCLFlBQ2MsSUFBSWdSLEdBQ1pJLFFBSjhDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3NzYxMTA3YmYyYTYxYzQ5ODg3ZWM3YjI1N2JlOTA1Ni5wbmdcIjsiLCJleHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVGdW5jdGlvbnM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RnBzKDMwKTtcclxuICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwbGF5XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGF1c2VcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5UGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnNwbGljZSh0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RnBzID0gKGZwczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy5mcHNJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbkxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkxvb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGVsYXBzZWQgLyAxMDAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVGdW5jdGlvbiBvZiB0aGlzLnVwZGF0ZUZ1bmN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuY3Rpb24odGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlPFQ+IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBhdWRpb0N0eDogQXVkaW9Db250ZXh0KSB7IH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0QXVkaW9Ob2RlKCk6IFQ7XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVBbmFseXNlciBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlPEFuYWx5c2VyTm9kZT4ge1xyXG4gICAgYW5hbHlzZXJOb2RlOiBBbmFseXNlck5vZGU7XHJcbiAgICBidWZmZXJMZW5ndGg6IG51bWJlcjtcclxuICAgIGRhdGFBcnJheTogVWludDhBcnJheTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEFuYWx5c2VyTm9kZSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHlzZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplID0gMzI7XHJcbiAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC45O1xyXG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gdGhpcy5hbmFseXNlck5vZGUuZnJlcXVlbmN5QmluQ291bnQ7XHJcbiAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGU8QXVkaW9EZXN0aW5hdGlvbk5vZGU+IHtcclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9EZXN0aW5hdGlvbk5vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlPE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZT4ge1xyXG4gICAgdXJsOiBzdHJpbmc7XHJcbiAgICBzb3VyY2U6IE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhdWRpb0N0eDogQXVkaW9Db250ZXh0LCB1cmw6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xyXG4gICAgfVxyXG4gICAgYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5hdWRpbyk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jb250cm9scyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB0aGlzLnVybDtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICB9LCA1MDAwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlPE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlPiB7XHJcbiAgICBzb3VyY2U6IE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlO1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPT4ge1xyXG4gICAgICAgIC8vIGFzeW5jISEhXHJcbiAgICAgICAgaWYgKCF0aGlzLnNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHN0cmVhbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3IxOTIzMDEyMjU4XCIpXHJcbiAgICAgICAgICAgICAgICAvKiBoYW5kbGUgdGhlIGVycm9yICovXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGgge1xyXG4gICAgcHJpdmF0ZSBhdWRpb0N0eDogQXVkaW9Db250ZXh0O1xyXG5cclxuICAgIHByaXZhdGUgc291cmNlTm9kZTogQXVkaW9HcmFwaE5vZGU8QXVkaW9Ob2RlPjtcclxuICAgIHByaXZhdGUgYW5hbHl6ZXJOb2RlOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG4gICAgcHJpdmF0ZSBkZXN0aW5hdGlvbk5vZGU6IEF1ZGlvR3JhcGhOb2RlPEF1ZGlvRGVzdGluYXRpb25Ob2RlPjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHguYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkKTtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBjb250ZXh0IGlzIHN1c3BlbmRlZC4gQ2xpY2sgdGhlIGRvbSB0byBtYWtlIGl0IHJ1bm5pbmcuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFuYWx5emVyTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyKHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24odGhpcy5hdWRpb0N0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVN0cmVhbSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UodGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCdWlsZGluZyBhdWRpbyBncmFwaC5cIik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBzb3VyY2Ugbm90IGF2YWlsYWJsZS4gV2FpdGluZyBzb21lIHRpbWUuXCIpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRXYXZlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4vZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzLnJlc2l6ZSgpXCIpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJhd0Z1bmN0aW9uIG9mIHRoaXMuZHJhd0Z1bmN0aW9ucykge1xyXG4gICAgICAgICAgICBkcmF3RnVuY3Rpb24odGhpcy5jdHgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VuYy9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBTaG9vdGluZ1N0YXIgfSBmcm9tIFwiLi9zaG9vdGluZ1N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaG9vdGluZ1N0YXJQcm9jZXNzb3Ige1xyXG4gICAgcHVibGljIGxpbWl0ID0gNTtcclxuICAgIHB1YmxpYyBzcGF3bldhaXRlciA9IDA7XHJcbiAgICBwdWJsaWMgc2hvb3RpbmdTdGFyczogU2hvb3RpbmdTdGFyW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFuaW1hdGlvbjogRUFuaW1hdGlvbikge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKHRoaXMudXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcyA9IChyZWxEYXRhVmFsdWU6IG51bWJlciwgYW5nbGU6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zaG9vdGluZ1N0YXJzLmxlbmd0aCA8PSB0aGlzLmxpbWl0ICYmIHRoaXMuc3Bhd25XYWl0ZXIgPD0gMCkge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSAqIHJlbERhdGFWYWx1ZSA+IDAuOSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSB3aWR0aCAvIDIgLSBNYXRoLmNvcyhhbmdsZSkgKiB3aWR0aCAvIDEuNSArICh3aWR0aCAqIE1hdGgucmFuZG9tKCkgLSB3aWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBoZWlnaHQgLyAyIC0gTWF0aC5zaW4oYW5nbGUpICogd2lkdGggLyAxLjUgKyAoaGVpZ2h0ICogTWF0aC5yYW5kb20oKSAtIGhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaG9vdGluZyBzdGFyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvb3RpbmdTdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGU6IGFuZ2xlICsgTWF0aC5QSSAvIDE2ICogTWF0aC5yYW5kb20oKSAtIE1hdGguUEkgLyAzMixcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNjAwICsgTWF0aC5yYW5kb20oKSAqIDIwMCxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAzKSArIDJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF3bldhaXRlciA9IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zcGF3bldhaXRlci0tO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hvb3RpbmdTdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzaG9vdGluZ1N0YXIgPSB0aGlzLnNob290aW5nU3RhcnNbaV07XHJcbiAgICAgICAgICAgIHNob290aW5nU3Rhci54ICs9IE1hdGguY29zKHNob290aW5nU3Rhci5hbmdsZSkgKiB0aW1lRGlmZiAqIHNob290aW5nU3Rhci5zcGVlZDtcclxuICAgICAgICAgICAgc2hvb3RpbmdTdGFyLnkgKz0gTWF0aC5zaW4oc2hvb3RpbmdTdGFyLmFuZ2xlKSAqIHRpbWVEaWZmICogc2hvb3RpbmdTdGFyLnNwZWVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBsZXQgcmVtb3ZlSXM6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaG9vdGluZ1N0YXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob290aW5nU3RhciA9IHRoaXMuc2hvb3RpbmdTdGFyc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBzaG9vdGluZ1N0YXIuc2l6ZTsgaiA+IDA7IGogLT0gMC41KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaG9vdGluZ1N0YXJQYXJ0KGN0eCwgMC41LCBzaG9vdGluZ1N0YXIsIGogKiBqICogaik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0eC5hcmMoc2hvb3RpbmdTdGFyLngsIHNob290aW5nU3Rhci55LCAxLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2hvb3RpbmdTdGFyLnggPiB3aWR0aCAqIDMgfHwgc2hvb3RpbmdTdGFyLnggPCAtd2lkdGggKiAyIHx8IHNob290aW5nU3Rhci55ID4gaGVpZ2h0ICogMyB8fCBzaG9vdGluZ1N0YXIueSA8IC1oZWlnaHQgKiAyKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVJcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gcmVtb3ZlSXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlSSA9IHJlbW92ZUlzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLnNob290aW5nU3RhcnMuc3BsaWNlKHJlbW92ZUksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdTaG9vdGluZ1N0YXJQYXJ0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBsaW5lV2lkdGg6IG51bWJlciwgc2hvb3RpbmdTdGFyOiBTaG9vdGluZ1N0YXIsIGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyhzaG9vdGluZ1N0YXIueCwgc2hvb3RpbmdTdGFyLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oc2hvb3RpbmdTdGFyLnggLSBNYXRoLmNvcyhzaG9vdGluZ1N0YXIuYW5nbGUpICogbGVuZ3RoLCBzaG9vdGluZ1N0YXIueSAtIE1hdGguc2luKHNob290aW5nU3Rhci5hbmdsZSkgKiBsZW5ndGgpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4vUG9pbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZVBpeGVscyB7XHJcbiAgICBwdWJsaWMgcGl4ZWxzOiBQb2ludFtdO1xyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XHJcbn0iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuL1BvaW50XCI7XHJcbmltcG9ydCB7IEltYWdlUGl4ZWxzIH0gZnJvbSBcIi4vaW1hZ2VQaXhlbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIZWxwZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBjb2xvckltYWdlID0gKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRlbXBDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlRGF0YSA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGEgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAociAtIGcgPiA1MCAmJiByIC0gYiA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gMC41O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBlICogdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBjICogKDEgLSBNYXRoLmFicygoaCAvIDYwKSAlIDIgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gZSAtIGM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBneDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDEyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxODApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMjQwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gKHJ4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gKGd4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gKGJ4ICsgbSkgKiAyNTU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpXSA9IHJ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgMV0gPSBneDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDJdID0gYng7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXBDdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29sb3JJbWFnZUFueSA9IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgaDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRlbXBDYW52YXMud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICB0ZW1wQ3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGEgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgIGggPSBoO1xyXG4gICAgICAgICAgICAgICAgdmFyIHUgPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSAwLjU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBlICogdTtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gYyAqICgxIC0gTWF0aC5hYnMoKGggLyA2MCkgJSAyIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBlIC0gYztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3g7XHJcbiAgICAgICAgICAgICAgICB2YXIgYng7XHJcbiAgICAgICAgICAgICAgICBpZiAoaCA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxMjApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDE4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBneCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMjQwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gYztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByeCA9IChyeCArIG0pICogMjU1O1xyXG4gICAgICAgICAgICAgICAgZ3ggPSAoZ3ggKyBtKSAqIDI1NTtcclxuICAgICAgICAgICAgICAgIGJ4ID0gKGJ4ICsgbSkgKiAyNTU7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaV0gPSByeDtcclxuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyAxXSA9IGd4O1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDJdID0gYng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcEN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxuXHJcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGVtcENhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEltYWdlRGF0YSA9IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgY2FsbGJhY2s6IChpbWFnZURhdGE6IEltYWdlRGF0YSkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICAgICAgdGVtcEN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0ZW1wQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB0ZW1wQ2FudmFzLndpZHRoLCB0ZW1wQ2FudmFzLmhlaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNoYW5nZUZhdmljb24oc3JjOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKSxcclxuICAgICAgICAgICAgb2xkTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLWZhdmljb24nKTtcclxuICAgICAgICBsaW5rLmlkID0gJ2R5bmFtaWMtZmF2aWNvbic7XHJcbiAgICAgICAgbGluay5yZWwgPSAnc2hvcnRjdXQgaWNvbic7XHJcbiAgICAgICAgbGluay5ocmVmID0gc3JjO1xyXG4gICAgICAgIGlmIChvbGRMaW5rKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQob2xkTGluayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQaXhlbHModGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHBpeGVsczogUG9pbnRbXSA9IFtdO1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSAxMDAwO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAyMDA7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDUwO1xyXG4gICAgICAgIGN0eC5mb250ID0gaGVpZ2h0ICsgXCJweCBHYXJhbW9uZFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCAwLCAwKTtcclxuICAgICAgICB2YXIgd2lkdGggPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG4gICAgICAgICAgICBpZiAociArIGcgKyBiID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogaSAvIDQgLSBNYXRoLmZsb29yKGkgLyA0IC8gaW1hZ2VEYXRhLndpZHRoKSAqIGltYWdlRGF0YS53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLmZsb29yKGkgLyA0IC8gaW1hZ2VEYXRhLndpZHRoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbWFnZVBpeGVscygpO1xyXG4gICAgICAgIHJlc3VsdC5waXhlbHMgPSBwaXhlbHM7XHJcbiAgICAgICAgcmVzdWx0LndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgcmVzdWx0LmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuL2VuYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4vZW5jL1BvaW50XCI7XHJcbmltcG9ydCB7IEhlbHBlciB9IGZyb20gXCIuL2VuYy9oZWxwZXJcIjtcclxuaW1wb3J0IHsgVGV4dFBpeGVsIH0gZnJvbSBcIi4vdGV4dFBpeGVsXCI7XHJcbmltcG9ydCB7IEltYWdlUGl4ZWxzIH0gZnJvbSBcIi4vZW5jL2ltYWdlUGl4ZWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dFByb2Nlc3NvciB7XHJcbiAgICBhbmltYXRlZFBpeGVsczogVGV4dFBpeGVsW10gPSBbXTtcclxuICAgIHBpeGVsczogSW1hZ2VQaXhlbHM7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlzRGVpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYW5pbWF0aW9uOiBFQW5pbWF0aW9uLCB0ZXh0OiBzdHJpbmcsIHByaXZhdGUgYW5pbWF0aW9uU3RhcnQ6IG51bWJlciwgcHVibGljIGVuZFRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKHRoaXMudXBkYXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5waXhlbHMgPSBIZWxwZXIuZ2V0UGl4ZWxzKHRleHQpO1xyXG4gICAgICAgIHZhciBzY2FsZSA9IDI7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpeGVscy5waXhlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5waXhlbHMucGl4ZWxzW2ldLnggKj0gc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxzLnBpeGVsc1tpXS55ICo9IHNjYWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBpeGVscy53aWR0aCAqPSBzY2FsZTtcclxuICAgICAgICB0aGlzLnBpeGVscy5oZWlnaHQgKj0gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByb2Nlc3MgPSAocmVsRGF0YVZhbHVlOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpeGVscy5waXhlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWwgPSB0aGlzLnBpeGVscy5waXhlbHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0WCA9IE1hdGgucmFuZG9tKCkgKiB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRZID0gTWF0aC5yYW5kb20oKSAqIGhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkUGl4ZWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRZOiBzdGFydFksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogc3RhcnRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRYOiB3aWR0aCAvIDIgLSB0aGlzLnBpeGVscy53aWR0aCAvIDIgKyBwaXhlbC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRZOiBoZWlnaHQgLyA0ICogMyAtIHRoaXMucGl4ZWxzLmhlaWdodCAvIDIgKyBwaXhlbC55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFNpemU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNpemU6IE1hdGgucmFuZG9tKCkgKiAxLjUgKyAwLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBNYXRoLnJhbmRvbSgpICogNCArIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXJ0OiB0aGlzLmFuaW1hdGlvblN0YXJ0ICsgTWF0aC5yYW5kb20oKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZFRpbWUgPD0gRGF0ZS5ub3coKSAvIDEwMDAgJiYgIXRoaXMuaXNEZWluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNEZWluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGVkUGl4ZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5hbmltYXRlZFBpeGVsc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRYID0gTWF0aC5yYW5kb20oKSAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFkgPSBNYXRoLnJhbmRvbSgpICogaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFBpeGVsc1tpXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFg6IHAueCxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFk6IHAueSxcclxuICAgICAgICAgICAgICAgICAgICB4OiBwLngsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogcC55LFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFg6IHRhcmdldFgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WTogdGFyZ2V0WSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFNpemU6IHAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2l6ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogTWF0aC5yYW5kb20oKSAqIDIgKyAxLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IERhdGUubm93KCkgLyAxMDAwICsgTWF0aC5yYW5kb20oKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XHJcbiAgICAgICAgaWYgKHRpbWUgPj0gdGhpcy5hbmltYXRpb25TdGFydCAmJiB0aW1lIDw9IHRoaXMuZW5kVGltZSArIDEwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbmltYXRlZFBpeGVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuYW5pbWF0ZWRQaXhlbHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocC5hbmltYXRpb25TdGFydCAmJiB0aW1lID49IHAuYW5pbWF0aW9uU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWFzaW5nID0gdGhpcy5pc0RlaW5pdGlhbGl6ZWQgPyBFYXNpbmdGdW5jdGlvbnMuZWFzZU91dFF1YXJ0IDogRWFzaW5nRnVuY3Rpb25zLmVhc2VJblF1YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlYXNlID0gbmV3IEVhc2VyKHAuYW5pbWF0aW9uU3RhcnQsIHRpbWUsIHAuYW5pbWF0aW9uRHVyYXRpb24sIGVhc2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC54ID0gZWFzZS5nZXRWYWx1ZShwLnN0YXJ0WCwgcC50YXJnZXRYKTtcclxuICAgICAgICAgICAgICAgICAgICBwLnkgPSBlYXNlLmdldFZhbHVlKHAuc3RhcnRZLCBwLnRhcmdldFkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHAuc2l6ZSA9IGVhc2UuZ2V0VmFsdWUocC5zdGFydFNpemUsIHAudGFyZ2V0U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLyAxMDAwID49IHRoaXMuYW5pbWF0aW9uU3RhcnQpIHtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjYTNkM2ZmXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMxM2MzZmZcIjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGVkUGl4ZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5hbmltYXRlZFBpeGVsc1tpXTtcclxuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGN0eC5hcmMocC54LCBwLnksIHAuc2l6ZSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVhc2Uoc3RhcnRUaW1lOiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIHN0YXJ0VmFsdWU6IG51bWJlciwgdGFyZ2V0VmFsdWU6IG51bWJlciwgZWFzZUZ1bmM6ICh0OiBudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHZhciB0RGVsdGEgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcclxuICAgICAgICB2YXIgdFJlbCA9IHREZWx0YSAvIGR1cmF0aW9uO1xyXG4gICAgICAgIHRSZWwgPSB0UmVsID4gMSA/IDEgOiB0UmVsO1xyXG4gICAgICAgIHZhciBzY2FsZWRUID0gZWFzZUZ1bmModFJlbCk7XHJcbiAgICAgICAgdmFyIG1heFNjYWxlZFQgPSBlYXNlRnVuYygxKTtcclxuICAgICAgICB2YXIgeCA9IHN0YXJ0VmFsdWUgKyAodGFyZ2V0VmFsdWUgLSBzdGFydFZhbHVlKSAqIChzY2FsZWRUIC8gbWF4U2NhbGVkVCk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFYXNlciB7XHJcbiAgICBzY2FsZWRUOiBudW1iZXI7XHJcbiAgICBtYXhTY2FsZWRUOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RhcnRUaW1lOiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGVhc2VGdW5jOiAodDogbnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgdERlbHRhID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7XHJcbiAgICAgICAgdmFyIHRSZWwgPSB0RGVsdGEgLyBkdXJhdGlvbjtcclxuICAgICAgICB0UmVsID0gdFJlbCA+IDEgPyAxIDogdFJlbDtcclxuICAgICAgICB0aGlzLnNjYWxlZFQgPSBlYXNlRnVuYyh0UmVsKTtcclxuICAgICAgICB0aGlzLm1heFNjYWxlZFQgPSBlYXNlRnVuYygxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWUgPSAoc3RhcnRWYWx1ZTogbnVtYmVyLCB0YXJnZXRWYWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyAodGFyZ2V0VmFsdWUgLSBzdGFydFZhbHVlKSAqICh0aGlzLnNjYWxlZFQgLyB0aGlzLm1heFNjYWxlZFQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRWFzaW5nRnVuY3Rpb25zIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgbGluZWFyID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJblF1YWQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0ICogdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VPdXRRdWFkID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCAqICgyIC0gdCkgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5PdXRRdWFkID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCA8IC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5DdWJpYyA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgKiB0ICogdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VPdXRDdWJpYyA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuICgtLXQpICogdCAqIHQgKyAxIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluT3V0Q3ViaWMgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0IDwgLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluUXVhcnQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0ICogdCAqIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZU91dFF1YXJ0ID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gMSAtICgtLXQpICogdCAqIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluT3V0UXVhcnQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0IDwgLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogKC0tdCkgKiB0ICogdCAqIHQgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5RdWludCA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgKiB0ICogdCAqIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZU91dFF1aW50ID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gMSArICgtLXQpICogdCAqIHQgKiB0ICogdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJbk91dFF1aW50ID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCA8IC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqICgtLXQpICogdCAqIHQgKiB0ICogdCB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoIH0gZnJvbSBcIi4uL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb1Zpc3VhbGl6YXRpb25TYW1wbGVzIHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXVkaW9HcmFwaDogQXVkaW9HcmFwaCkgeyB9XHJcblxyXG4gICAgcHVibGljIGRyYXdTcGVjdHJ1bSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hdWRpb0dyYXBoLmdldFNwZWN0cnVtKCk7XHJcbiAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGJhcldpZHRoID0gd2lkdGggLyBidWZmZXJMZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gZGF0YVtpXSAvIDI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnaHNsKCcgKyAoMjMwIC0gYmFySGVpZ2h0IC8gMTUwICogNTApICsgJywgMTAwJSwgJyArIChiYXJIZWlnaHQgLyAxNTAgKiA1MCArIDIwKSArICclKSc7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChpICogYmFyV2lkdGgsIGhlaWdodCwgYmFyV2lkdGggKiAwLjUsIC1iYXJIZWlnaHQgKiAyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdXYXZlID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmF1ZGlvR3JhcGguZ2V0V2F2ZSgpO1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigxNTAsIDE1MCwgMTUwKSc7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNvbnN0IHNsaWNlV2lkdGggPSB3aWR0aCAvIChsZW5ndGggLSAxKTtcclxuICAgICAgICBsZXQgeCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGRhdGFbaV0gLyAxMjguMDtcclxuICAgICAgICAgICAgY29uc3QgeSA9IHYgKiBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeCArPSBzbGljZVdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdTcGVjdHJ1bUFyYyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hdWRpb0dyYXBoLmdldFNwZWN0cnVtKCk7XHJcbiAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHBpUGFydCA9IE1hdGguUEkgKiAyIC8gYnVmZmVyTGVuZ3RoICogaTtcclxuICAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gNTAgKyBkYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgeCA9IE1hdGguY29zKHBpUGFydCkgKiBiYXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5zaW4ocGlQYXJ0KSAqIGJhckhlaWdodDtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8od2lkdGggLyAyICsgeCwgaGVpZ2h0IC8gMiArIHkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnaHNsKCcgKyAoMjMwIC0gYmFySGVpZ2h0IC8gMTUwICogNTApICsgJywgMTAwJSwgJyArIChiYXJIZWlnaHQgLyAxNTAgKiA1MCArIDIwKSArICclKSc7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSA1O1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3U3BlY3RydW1BcmNWMiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYXVkaW9HcmFwaC5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlckxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwaVBhcnQgPSBNYXRoLlBJICogMiAvIGJ1ZmZlckxlbmd0aCAqIGk7XHJcbiAgICAgICAgICAgIHZhciBwaVBhcnQyID0gTWF0aC5QSSAqIDIgLyBidWZmZXJMZW5ndGggKiAoaSArIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8od2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY3R4LmFyYyh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIGJhckhlaWdodCwgcGlQYXJ0LCBwaVBhcnQyKVxyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdoc2woJyArICgyMzAgLSAoYmFySGVpZ2h0IC0gMTAwKSAvIDE1MCAqIDUwKSArICcsIDEwMCUsICcgKyAoKGJhckhlaWdodCAtIDEwMCkgLyAxNTAgKiA1MCArIDIwKSArICclKSc7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IExvZ29QbmcgZnJvbSBcIi4vYXNzZXRzL0xvZ28ucG5nXCJcclxuaW1wb3J0IHsgQXVkaW9HcmFwaCB9IGZyb20gXCIuL2VuYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lbmMvZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4vZW5jL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuaW1wb3J0IHsgU2hvb3RpbmdTdGFyUHJvY2Vzc29yIH0gZnJvbSBcIi4vc2hvb3RpbmdTdGFyUHJvY2Vzc29yXCI7XHJcbmltcG9ydCB7IFRleHRQcm9jZXNzb3IsIEVhc2luZ0Z1bmN0aW9ucyB9IGZyb20gXCIuL3RleHRQcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgQXVkaW9WaXN1YWxpemF0aW9uU2FtcGxlcyB9IGZyb20gXCIuL2VuYy9zYW1wbGVzL2F1ZGlvVmlzdWFsaXphdGlvblNhbXBsZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb24ge1xyXG4gICAgcHJpdmF0ZSBmcmVxdWVuY3lJbmRleCA9IDc7XHJcblxyXG4gICAgc2hvb3RpbmdTdGFyUHJvY2Vzc29yOiBTaG9vdGluZ1N0YXJQcm9jZXNzb3I7XHJcbiAgICBpbnNwaWVydHlMb2dvSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICB0ZXh0UHJvY2Vzc29yOiBUZXh0UHJvY2Vzc29yO1xyXG4gICAgaW1hZ2VXaWR0aDogbnVtYmVyID0gMDtcclxuICAgIGltYWdlSGVpZ2h0OiBudW1iZXIgPSAwO1xyXG4gICAgbG93ZXJCb3JkZXIgPSAwO1xyXG4gICAgdXBwZXJCb3JkZXIgPSAwLjg7XHJcbiAgICBudW1iZXJPZlN0YXJzID0gMTAwMDtcclxuICAgIGRyYXdSZWxEYXRhVmFsdWU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoLCBwcml2YXRlIGNhbnZhczogRUNhbnZhcywgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb24pIHtcclxuICAgICAgICB0aGlzLmluc3BpZXJ0eUxvZ29JbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlLnNyYyA9IExvZ29Qbmc7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvb3RpbmdTdGFyUHJvY2Vzc29yID0gbmV3IFNob290aW5nU3RhclByb2Nlc3Nvcih0aGlzLmFuaW1hdGlvbik7XHJcblxyXG4gICAgICAgIHZhciBzYW1wbGVzID0gbmV3IEF1ZGlvVmlzdWFsaXphdGlvblNhbXBsZXModGhpcy5hdWRpb0dyYXBoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgdmFyIGtleVZhbHVlcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLnNwbGl0KFwiJlwiKS5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LnNwbGl0KFwiPVwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IFtcclxuICAgICAgICAgICAgXCJmaSAtIGZyZXF1ZW5jeUluZGV4IC0gN1wiLFxyXG4gICAgICAgICAgICBcImxiIC0gbG93ZXJCb3JkZXIgLSAwXCIsXHJcbiAgICAgICAgICAgIFwidWIgLSB1cHBlckJvcmRlciAtIDAuOFwiLFxyXG4gICAgICAgICAgICBcInNwZWMgLSBzcGVjXCIsXHJcbiAgICAgICAgICAgIFwicmVsIC0gZHJhd1JlbERhdGFWYWx1ZVwiLFxyXG4gICAgICAgICAgICBcImZwcyAtIGZwcyAtIDMwXCIsXHJcbiAgICAgICAgICAgIFwibm9zIC0gbnVtYmVyT2ZTdGFycyAtIDEwMDBcIixcclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibWV0aG9kczpcIik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZHNbaV07XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1ldGhvZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Yga2V5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbVswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZpXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3lJbmRleCA9ICtpdGVtWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxiXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb3dlckJvcmRlciA9ICtpdGVtWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInViXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cHBlckJvcmRlciA9ICtpdGVtWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNwZWNcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5hZGREcmF3RnVuY3Rpb24oc2FtcGxlcy5kcmF3U3BlY3RydW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJlbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1JlbERhdGFWYWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnBzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uc2V0RnBzKCtpdGVtWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJub3NcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlck9mU3RhcnMgPSAraXRlbVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24odGhpcy51cGRhdGVTdGFycyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMuaW5zcGllcnR5VmlzVjMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5zcGllcnR5VmlzVjMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYXVkaW9HcmFwaC5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgICAgIHZhciByZWxEYXRhVmFsdWUgPSB0aGlzLmNhbGN1bGF0ZVJlbERhdGFWYWx1ZShkYXRhW3RoaXMuZnJlcXVlbmN5SW5kZXhdKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG9vdGluZ1N0YXJQcm9jZXNzb3IucHJvY2VzcyhyZWxEYXRhVmFsdWUsIHRoaXMuYW5nbGUsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdTdGFycyhjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgXCIgKyAoMSAtIHJlbERhdGFWYWx1ZSAvIDIgLSAwLjQpICsgXCIpXCJcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvb3RpbmdTdGFyUHJvY2Vzc29yLmRyYXcoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZHJhd1JlbERhdGFWYWx1ZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgaGVpZ2h0LCA1MCwgLWhlaWdodCAqIHJlbERhdGFWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRyYXdJbWFnZSh3aWR0aCwgaGVpZ2h0LCBjdHgsIHJlbERhdGFWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3SW1hZ2Uod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCByZWxEYXRhVmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZVdpZHRoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZVNpemluZyA9IHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlLm5hdHVyYWxXaWR0aCAvIHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBzdGFnZVNpemluZyA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VXaWR0aDtcclxuICAgICAgICAgICAgdmFyIGltYWdlSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoaW1hZ2VTaXppbmcgPiBzdGFnZVNpemluZykgeyAvLyB1c2Ugd2lkdGggYXMgbGltaXRcclxuICAgICAgICAgICAgICAgIGltYWdlV2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGltYWdlSGVpZ2h0ID0gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbEhlaWdodCAvIHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlLm5hdHVyYWxXaWR0aCAqIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyB1c2UgaGVpZ2h0IGFzIGxpbWl0XHJcbiAgICAgICAgICAgICAgICBpbWFnZVdpZHRoID0gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbFdpZHRoIC8gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbEhlaWdodCAqIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIGltYWdlSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9IGltYWdlV2lkdGggKiAwLjg7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSBpbWFnZUhlaWdodCAqIDAuODtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHkgPSBoZWlnaHQgLyAzIC0gdGhpcy5pbWFnZUhlaWdodCAvIDI7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmluc3BpZXJ0eUxvZ29JbWFnZSwgd2lkdGggLyAyIC0gdGhpcy5pbWFnZVdpZHRoIC8gMiwgeSwgdGhpcy5pbWFnZVdpZHRoLCB0aGlzLmltYWdlSGVpZ2h0KTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwibGlnaHRlclwiO1xyXG4gICAgICAgIGNvbnN0IG5vdmFYID0gd2lkdGggLyAyIC0gdGhpcy5pbWFnZVdpZHRoIC8gMiArIHRoaXMuaW1hZ2VXaWR0aCAqIDAuNDg3MjtcclxuICAgICAgICBjb25zdCBub3ZhWSA9IHkgKyB0aGlzLmltYWdlSGVpZ2h0ICogMC40MTA1O1xyXG4gICAgICAgIGNvbnN0IG5vdmFSID0gdGhpcy5pbWFnZUhlaWdodCAqIDAuMDQ5NCAqIChyZWxEYXRhVmFsdWUgLyAyICsgMC43KSArIDAuMDtcclxuICAgICAgICBpZiAobm92YVggJiYgbm92YVkgJiYgbm92YVIpIHtcclxuICAgICAgICAgICAgdmFyIGdyYWQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQobm92YVgsIG5vdmFZLCAwLCBub3ZhWCwgbm92YVksIG5vdmFSKTtcclxuICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgJyArIChyZWxEYXRhVmFsdWUgLyAyKSArICcpJyk7XHJcbiAgICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkO1xyXG4gICAgICAgICAgICBjdHguYXJjKG5vdmFYLCBub3ZhWSwgbm92YVIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzdGVwID0gMDtcclxuXHJcbiAgICAvLyBwcml2YXRlIHByb2Nlc3NUZXh0KGRhdGE6IFVpbnQ4QXJyYXksIHJlbERhdGFWYWx1ZTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIC8vICAgICBpZiAoZGF0YSAmJiBkYXRhWzBdICYmIHRoaXMuc3RlcCA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc3RlcCA9IDE7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGV4dFByb2Nlc3NvciA9IG5ldyBUZXh0UHJvY2Vzc29yKHRoaXMuYW5pbWF0aW9uLCBcIkZhaW50IGNvbG9yXCIsIERhdGUubm93KCkgLyAxMDAwLCBEYXRlLm5vdygpIC8gMTAwMCArIDQzKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKHRoaXMudGV4dFByb2Nlc3Nvcikge1xyXG4gICAgLy8gICAgICAgICBpZiAodGhpcy5zdGVwID09IDEgJiYgRGF0ZS5ub3coKSAvIDEwMDAgPj0gdGhpcy50ZXh0UHJvY2Vzc29yLmVuZFRpbWUgKyAyMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zdGVwID0gMjtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMudGV4dFByb2Nlc3NvciA9IG5ldyBUZXh0UHJvY2Vzc29yKHRoaXMuYW5pbWF0aW9uLCBcIkRlZXAgRmllbGRcIiwgRGF0ZS5ub3coKSAvIDEwMDAgKyAxLCBEYXRlLm5vdygpIC8gMTAwMCArIDIyLjUpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLnN0ZXAgPT0gMiAmJiBEYXRlLm5vdygpIC8gMTAwMCA+PSB0aGlzLnRleHRQcm9jZXNzb3IuZW5kVGltZSArIDQpIHtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuc3RlcCA9IDM7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnRleHRQcm9jZXNzb3IgPSBuZXcgVGV4dFByb2Nlc3Nvcih0aGlzLmFuaW1hdGlvbiwgXCJEcmlmdGluZyBpbnRvIHRoZSBhdG1vc3BoZXJlXCIsIERhdGUubm93KCkgLyAxMDAwICsgMSwgRGF0ZS5ub3coKSAvIDEwMDAgKyAzMCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuc3RlcCA9PSAzICYmIERhdGUubm93KCkgLyAxMDAwID49IHRoaXMudGV4dFByb2Nlc3Nvci5lbmRUaW1lICsgNCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zdGVwID0gNDtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMudGV4dFByb2Nlc3NvciA9IG5ldyBUZXh0UHJvY2Vzc29yKHRoaXMuYW5pbWF0aW9uLCBcIkZyb20gdGhlIGFsYnVtIGNvbnN0ZWxsYXRpb25cIiwgRGF0ZS5ub3coKSAvIDEwMDAgKyAxLCBEYXRlLm5vdygpIC8gMTAwMCArIDMwKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB0aGlzLnRleHRQcm9jZXNzb3IucHJvY2VzcyhyZWxEYXRhVmFsdWUsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnRleHRQcm9jZXNzb3IuZHJhdyhjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwcml2YXRlIGVhc2Uoc3RhcnRUaW1lOiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIHN0YXJ0VmFsdWU6IG51bWJlciwgdGFyZ2V0VmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciB0RGVsdGEgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcclxuICAgICAgICB2YXIgdFJlbCA9IHREZWx0YSAvIGR1cmF0aW9uO1xyXG4gICAgICAgIHRSZWwgPSB0UmVsID4gMSA/IDEgOiB0UmVsO1xyXG4gICAgICAgIHZhciBzY2FsZWRUID0gRWFzaW5nRnVuY3Rpb25zLmVhc2VJbk91dFF1YWQodFJlbCk7XHJcbiAgICAgICAgdmFyIG1heFNjYWxlZFQgPSBFYXNpbmdGdW5jdGlvbnMuZWFzZUluT3V0UXVhZCgxKTtcclxuICAgICAgICB2YXIgeCA9IHN0YXJ0VmFsdWUgKyAodGFyZ2V0VmFsdWUgLSBzdGFydFZhbHVlKSAqIChzY2FsZWRUIC8gbWF4U2NhbGVkVCk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0aW1lVG9Nb3ZlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHhTdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB4VGFyZ2V0OiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmdsZSA9IE1hdGguUEkgKiAwLjM7XHJcbiAgICBwcml2YXRlIHRhcmdldEFuZ2xlID0gdGhpcy5hbmdsZTtcclxuICAgIHByaXZhdGUgY2xvY2t3aXNlID0gMTtcclxuXHJcbiAgICBwcml2YXRlIHNwZWVkID0gNDtcclxuICAgIHByaXZhdGUgdGFyZ2V0U3BlZWQgPSB0aGlzLnNwZWVkO1xyXG5cclxuICAgIHByaXZhdGUgc3RhcnM6IFN0YXJbXSA9IFtdXHJcbiAgICBwcml2YXRlIHVwZGF0ZVN0YXJzID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmFuZ2xpbmcodGltZURpZmYpO1xyXG4gICAgICAgIHRoaXMuc3BlZWRpbmcodGltZURpZmYpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFyID0gdGhpcy5zdGFyc1tpXTtcclxuICAgICAgICAgICAgc3Rhci54ICs9IE1hdGguY29zKHRoaXMuYW5nbGUpICogdGltZURpZmYgKiA0O1xyXG4gICAgICAgICAgICBzdGFyLnkgKz0gTWF0aC5zaW4odGhpcy5hbmdsZSkgKiB0aW1lRGlmZiAqIDQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhd1N0YXJzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLnN0YXJzLmxlbmd0aCA8IHRoaXMubnVtYmVyT2ZTdGFycykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFN0YXIod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuOSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhciA9IHRoaXMuc3RhcnNbaV07XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4LmFyYyhzdGFyLngsIHN0YXIueSwgc3Rhci5zaXplIC8gMiwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0YXIueCA+IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggPSBzdGFyLnggLSB3aWR0aDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFyLnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggPSBzdGFyLnggKyB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHN0YXIueSA+IGhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci55ID0gc3Rhci55IC0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXIueSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHN0YXIueSA9IHN0YXIueSArIGhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFN0YXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogd2lkdGgsXHJcbiAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBoZWlnaHQsXHJcbiAgICAgICAgICAgIHNpemU6IE1hdGgucmFuZG9tKCkgKiAod2lkdGggLyA2MDApICsgMC40XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzcGVlZGluZyh0aW1lRGlmZjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3BlZWQgPT0gdGhpcy50YXJnZXRTcGVlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldFNwZWVkID0gTWF0aC5yYW5kb20oKSAqIDEwICsgMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkID4gdGhpcy50YXJnZXRTcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZCAtPSAwLjEgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkIDwgdGhpcy50YXJnZXRTcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLnRhcmdldFNwZWVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZCArPSAwLjEgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkID4gdGhpcy50YXJnZXRTcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLnRhcmdldFNwZWVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5nbGluZyh0aW1lRGlmZjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5nbGUgPT0gdGhpcy50YXJnZXRBbmdsZSkge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGVsdGEgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAtIE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldEFuZ2xlICs9IHRhcmdldERlbHRhO1xyXG4gICAgICAgICAgICB0aGlzLmNsb2Nrd2lzZSA9IHRhcmdldERlbHRhIDwgMCA/IC0xIDogMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzdGVwRGVsdGEgPSB0aW1lRGlmZiAqIDAuMDYgKiB0aGlzLmNsb2Nrd2lzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5nbGUgPD0gdGhpcy50YXJnZXRBbmdsZSAmJiB0aGlzLmFuZ2xlICsgc3RlcERlbHRhID49IHRoaXMudGFyZ2V0QW5nbGVcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMuYW5nbGUgPj0gdGhpcy50YXJnZXRBbmdsZSAmJiB0aGlzLmFuZ2xlICsgc3RlcERlbHRhIDw9IHRoaXMudGFyZ2V0QW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLnRhcmdldEFuZ2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSArPSB0aW1lRGlmZiAqIDAuMDYgKiB0aGlzLmNsb2Nrd2lzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZVJlbERhdGFWYWx1ZShkYXRhVmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciByZWxEYXRhVmFsdWUgPSBkYXRhVmFsdWUgLyAyNTU7XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA8IHRoaXMubG93ZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy5sb3dlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA+IHRoaXMudXBwZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy51cHBlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbmFsUmVsRGF0YVZhbHVlID0gKHJlbERhdGFWYWx1ZSAtIHRoaXMubG93ZXJCb3JkZXIpIC8gKHRoaXMudXBwZXJCb3JkZXIgLSB0aGlzLmxvd2VyQm9yZGVyKTtcclxuICAgICAgICByZXR1cm4gZmluYWxSZWxEYXRhVmFsdWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4vZW5jL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaCB9IGZyb20gXCIuL2VuYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbi8vIGltcG9ydCBUcmFpbGVyT2dnIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VuYy9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEluc3BpZXJ0eUF1ZGlvVmlzdWFsaXphdGlvbiB9IGZyb20gXCIuL2luc3BpZXJ0eUF1ZGlvVmlzdWFsaXphdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoO1xyXG4gICAgY2FudmFzOiBFQ2FudmFzO1xyXG4gICAgYW5pbWF0aW9uOiBFQW5pbWF0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBydW4oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBFQ2FudmFzLmNyZWF0ZUZ1bGxTY3JlZW4oKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IG5ldyBFQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24odGhpcy5jYW52YXMuZHJhdyk7XHJcblxyXG4gICAgICAgIHRoaXMuYXVkaW9HcmFwaCA9IG5ldyBBdWRpb0dyYXBoKCk7XHJcbiAgICAgICAgLy8gdGhpcy5hdWRpb0dyYXBoLnBsYXlVcmwoVHJhaWxlck9nZyk7XHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoLnBsYXlTdHJlYW0oKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucHJlQW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIGluc3BpZXJ0eUFuaW1hdGlvbiA9IG5ldyBJbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb24odGhpcy5hdWRpb0dyYXBoLCB0aGlzLmNhbnZhcywgdGhpcy5hbmltYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJlQW5pbWF0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4sIGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgpO1xyXG4gIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=