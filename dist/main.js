!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){t.exports=i.p+"ef12961f66786d579f3985c19fea303b.ogg"},function(t,e,i){t.exports=i.p+"7761107bf2a61c49887ec7b257be9056.png"},function(t,e,i){"use strict";i.r(e);var n,a=function(){function t(){var t=this;this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=function(e){t.updateFunctions.push(e)},this.removeUpdateFunction=function(e){t.updateFunctions.splice(t.updateFunctions.indexOf(e),1)},this.setFps=function(e){t.fps=e,t.fpsInterval=1e3/t.fps},this.animationLoop=function(){t.isRunning&&requestAnimationFrame(t.animationLoop);var e=Date.now(),i=e-t.lastFrameTime;if(i>t.fpsInterval){t.lastFrameTime=e;for(var n=i/1e3,a=0,r=t.updateFunctions;a<r.length;a++){(0,r[a])(n)}}},this.setFps(30),this.play(),document.addEventListener("keyup",function(e){80==e.keyCode&&t.playPause()})}return t.prototype.play=function(){this.isRunning||(console.log("play"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())},t.prototype.pause=function(){this.isRunning&&(console.log("pause"),this.isRunning=!1)},t.prototype.playPause=function(){this.isRunning?this.pause():this.play()},t}(),r=function(){return function(t){this.audioCtx=t}}(),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.analyserNode||e.initialize(),e.analyserNode},e}return o(e,t),e.prototype.initialize=function(){this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength)},e.prototype.getSpectrum=function(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)},e.prototype.getWave=function(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)},e}(r),u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.audioCtx.destination},e}return u(e,t),e}(r),d=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e,i){var n=t.call(this,e)||this;return n.getAudioNode=function(){return n.source||n.initialize(),n.source},n.url=i,n}return d(e,t),e.prototype.initialize=function(){var t=this;this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.source=this.audioCtx.createMediaElementSource(this.audio),setTimeout(function(){t.audio.play()},5e3)},e}(r),l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAudioNode=function(){return e.source||e.initialize(),e.source},e}return l(e,t),e.prototype.initialize=function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){t.source=t.audioCtx.createMediaStreamSource(e)}).catch(function(t){alert("error1923012258")})},e}(r),f=function(){function t(){var t=this;this.playUrl=function(e){t.sourceNode=new c(t.audioCtx,e),"running"===t.audioCtx.state&&t.buildGraph()},this.playStream=function(){t.sourceNode=new p(t.audioCtx),"running"===t.audioCtx.state&&t.buildGraph()},this.documentClick=function(){"suspended"===t.audioCtx.state&&(t.audioCtx.resume(),document.removeEventListener("click",t.documentClick))},this.audioContextStateChanged=function(){"running"===t.audioCtx.state&&(t.audioCtx.removeEventListener("statechange",t.audioContextStateChanged),t.buildGraph())},this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChanged),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.analyzerNode=new s(this.audioCtx),this.destinationNode=new h(this.audioCtx)}return t.prototype.buildGraph=function(){var t=this;console.log("Building audio graph."),this.sourceNode.getAudioNode()?(this.sourceNode.getAudioNode().disconnect(),this.analyzerNode.getAudioNode().disconnect(),this.destinationNode.getAudioNode().disconnect(),this.sourceNode.getAudioNode().connect(this.analyzerNode.getAudioNode()),this.analyzerNode.getAudioNode().connect(this.destinationNode.getAudioNode())):(console.log("Audio source not available. Waiting some time."),setTimeout(function(){t.buildGraph()},1e3))},t.prototype.getSpectrum=function(){return this.analyzerNode.getSpectrum()},t.prototype.getWave=function(){return this.analyzerNode.getWave()},t}(),g=i(0),m=i.n(g),y=function(){function t(){var t=this;this.drawFunctions=[],this.resize=function(){console.log("canvas.resize()"),t.canvas.width=t.canvas.clientWidth,t.canvas.height=t.canvas.clientHeight},this.draw=function(){for(var e=0,i=t.drawFunctions;e<i.length;e++){(0,i[e])(t.ctx,t.width,t.height)}},this.addDrawFunction=function(e){t.drawFunctions.push(e)},this.removeDrawFunction=function(e){t.drawFunctions.splice(t.drawFunctions.indexOf(e),1)}}return Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),t.createFullScreen=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var e=document.createElement("canvas");document.body.appendChild(e),e.style.width="100%",e.style.height="100%";var i=new t;return i.canvas=e,i.ctx=e.getContext("2d"),window.addEventListener("resize",i.resize),i.resize(),i},t}(),v=i(1),w=i.n(v),x=function(){function t(t){var e=this;this.animation=t,this.limit=5,this.spawnWaiter=0,this.shootingStars=[],this.process=function(t,i,n,a){if(e.shootingStars.length<=e.limit&&e.spawnWaiter<=0){if(Math.random()*t>.9){var r=n/2-Math.cos(i)*n/1.5+(n*Math.random()-n/2),o=a/2-Math.sin(i)*n/1.5+(a*Math.random()-a/2);console.log("shooting star"),e.shootingStars.push({x:r,y:o,angle:i+Math.PI/16*Math.random()-Math.PI/32,speed:600+200*Math.random(),size:Math.round(3*Math.random())+2}),e.spawnWaiter=50}}else e.spawnWaiter--},this.update=function(t){for(var i=0;i<e.shootingStars.length;i++){var n=e.shootingStars[i];n.x+=Math.cos(n.angle)*t*n.speed,n.y+=Math.sin(n.angle)*t*n.speed}},this.draw=function(t,i,n){var a=[];t.fillStyle="white",t.strokeStyle="white",t.lineCap="round";for(var r=0;r<e.shootingStars.length;r++){for(var o=e.shootingStars[r],s=o.size;s>0;s-=.5)e.drawShootingStarPart(t,.5,o,s*s*s);t.arc(o.x,o.y,1,0,2*Math.PI),t.fill(),(o.x>3*i||o.x<2*-i||o.y>3*n||o.y<2*-n)&&a.push(r)}for(r=a.length-1;r>=0;r--){var u=a[r];e.shootingStars.splice(u,1)}},this.animation.addUpdateFunction(this.update)}return t.prototype.drawShootingStarPart=function(t,e,i,n){t.beginPath(),t.lineWidth=e,t.moveTo(i.x,i.y),t.lineTo(i.x-Math.cos(i.angle)*n,i.y-Math.sin(i.angle)*n),t.stroke()},t}(),S=function(){return function(){}}(),b=function(){function t(){}return t.changeFavicon=function(t){var e=document.createElement("link"),i=document.getElementById("dynamic-favicon");e.id="dynamic-favicon",e.rel="shortcut icon",e.href=t,i&&document.head.removeChild(i),document.head.appendChild(e)},t.getPixels=function(t){var e=[],i=document.createElement("canvas");i.width=1e3,i.height=200;var n=i.getContext("2d");n.fillStyle="black",n.fillRect(0,0,i.width,i.height),n.fillStyle="white",n.textAlign="left",n.textBaseline="top";n.font="50px Garamond",n.fillText(t,0,0);for(var a=n.measureText(t).width,r=n.getImageData(0,0,a,50),o=0;o<r.data.length;o+=4){var s=r.data[o],u=r.data[o+1],h=r.data[o+2];r.data[o+3];s+u+h>300&&e.push({x:o/4-Math.floor(o/4/r.width)*r.width,y:Math.floor(o/4/r.width)})}var d=new S;return d.pixels=e,d.width=a,d.height=50,d},t.colorImage=function(t,e){t.onload=function(){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0);for(var a=n.getImageData(0,0,i.width,i.height),r=0;r<a.data.length;r+=4){var o=a.data[r],s=a.data[r+1],u=a.data[r+2];if(a.data[r+3]>.5&&o-s>50&&o-u>50){e=e;var h,d,c,l=.5,p=l*(1-Math.abs(e/60%2-1));e<60?(h=l,d=p,c=0):e<120?(h=p,d=l,c=0):e<180?(h=0,d=l,c=p):e<240?(h=0,d=p,c=l):e<300?(h=p,d=0,c=l):(h=l,d=0,c=p),h=255*(h+0),d=255*(d+0),c=255*(c+0),a.data[r]=h,a.data[r+1]=d,a.data[r+2]=c}}n.putImageData(a,0,0),t.src=i.toDataURL(),t.onload=function(){}}},t.colorImageAny=function(t,e){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0);for(var a=n.getImageData(0,0,i.width,i.height),r=0;r<a.data.length;r+=4){a.data[r],a.data[r+1],a.data[r+2];if(a.data[r+3]>.5){e=e;var o,s,u,h=.5,d=h*(1-Math.abs(e/60%2-1));e<60?(o=h,s=d,u=0):e<120?(o=d,s=h,u=0):e<180?(o=0,s=h,u=d):e<240?(o=0,s=d,u=h):e<300?(o=d,s=0,u=h):(o=h,s=0,u=d),o=255*(o+0),s=255*(s+0),u=255*(u+0),a.data[r]=o,a.data[r+1]=s,a.data[r+2]=u}}n.putImageData(a,0,0),t.src=i.toDataURL()},t.getImageData=function(t,e){t.onload=function(){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight;var n=i.getContext("2d");n.drawImage(t,0,0),e(n.getImageData(0,0,i.width,i.height))}},t}(),M=(function(){function t(t,e,i,n){var a=this;this.animation=t,this.animationStart=i,this.endTime=n,this.animatedPixels=[],this.isInitialized=!1,this.isDeinitialized=!1,this.process=function(t,e,i){if(!a.isInitialized){a.isInitialized=!0;for(var n=0;n<a.pixels.pixels.length;n++)if(Math.random()>.5){var r=a.pixels.pixels[n],o=Math.random()*e,s=Math.random()*i;a.animatedPixels.push({startX:o,startY:s,x:o,y:s,targetX:e/2-a.pixels.width/2+r.x,targetY:i/4*3-a.pixels.height/2+r.y,startSize:0,size:0,targetSize:1.5*Math.random()+.5,animationDuration:4*Math.random()+2,animationStart:a.animationStart+Math.random()})}}if(a.endTime<=Date.now()/1e3&&!a.isDeinitialized){a.isDeinitialized=!0;for(n=0;n<a.animatedPixels.length;n++){var u=a.animatedPixels[n],h=Math.random()*e,d=Math.random()*i;a.animatedPixels[n]={startX:u.x,startY:u.y,x:u.x,y:u.y,targetX:h,targetY:d,startSize:u.size,size:u.size,targetSize:0,animationDuration:2*Math.random()+1.5,animationStart:Date.now()/1e3+Math.random()}}}},this.update=function(t){var e=Date.now()/1e3;if(e>=a.animationStart&&e<=a.endTime+10)for(var i=0;i<a.animatedPixels.length;i++){var n=a.animatedPixels[i];if(n.animationStart&&e>=n.animationStart){var r=a.isDeinitialized?I.easeOutQuart:I.easeInQuart,o=new M(n.animationStart,e,n.animationDuration,r);n.x=o.getValue(n.startX,n.targetX),n.y=o.getValue(n.startY,n.targetY),n.size=o.getValue(n.startSize,n.targetSize)}}},this.draw=function(t,e,i){if(Date.now()/1e3>=a.animationStart){t.strokeStyle="#a3d3ff",t.fillStyle="#13c3ff";for(var n=0;n<a.animatedPixels.length;n++){var r=a.animatedPixels[n];t.beginPath(),t.arc(r.x,r.y,r.size,0,2*Math.PI),t.fill()}}},this.animation.addUpdateFunction(this.update),this.pixels=b.getPixels(e);for(var r=0;r<this.pixels.pixels.length;r++)this.pixels.pixels[r].x*=2,this.pixels.pixels[r].y*=2;this.pixels.width*=2,this.pixels.height*=2}t.prototype.ease=function(t,e,i,n,a,r){var o=(e-t)/i;return n+r(o=o>1?1:o)/r(1)*(a-n)}}(),function(){return function(t,e,i,n){var a=this;this.getValue=function(t,e){return t+(e-t)*(a.scaledT/a.maxScaledT)};var r=(e-t)/i;r=r>1?1:r,this.scaledT=n(r),this.maxScaledT=n(1)}}()),I=function(){function t(){}return t.linear=function(t){return t},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){return--t*t*t+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){return 1- --t*t*t*t},t.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){return 1+--t*t*t*t*t},t.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},t}(),P=function(){return function(t){var e=this;this.audioGraph=t,this.drawSpectrum=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=i/r,s=0;s<r;s++){var u=a[s]/2;t.fillStyle="hsl("+(230-u/150*50)+", 100%, "+(u/150*50+20)+"%)",t.fillRect(s*o,n,.5*o,2*-u)}},this.drawWave=function(t,i,n){var a=e.audioGraph.getWave(),r=a.length;t.lineWidth=2,t.strokeStyle="rgb(150, 150, 150)",t.beginPath();for(var o=i/(r-1),s=0,u=0;u<r;u++){var h=a[u]/128*n/2;0===u?t.moveTo(s,h):t.lineTo(s,h),s+=o}t.stroke()},this.drawSpectrumArc=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=0;o<r;o++){var s=2*Math.PI/r*o,u=50+a[o],h=Math.cos(s)*u,d=Math.sin(s)*u;t.beginPath(),t.moveTo(i/2,n/2),t.lineTo(i/2+h,n/2+d),t.strokeStyle="hsl("+(230-u/150*50)+", 100%, "+(u/150*50+20)+"%)",t.lineWidth=5,t.stroke()}},this.drawSpectrumArcV2=function(t,i,n){for(var a=e.audioGraph.getSpectrum(),r=a.length,o=0;o<r;o++){var s=2*Math.PI/r*o,u=2*Math.PI/r*(o+1),h=a[o];t.beginPath(),t.moveTo(i/2,n/2),t.arc(i/2,n/2,h,s,u),t.fillStyle="hsl("+(230-(h-100)/150*50)+", 100%, "+((h-100)/150*50+20)+"%)",t.fill()}}}}(),C=function(){function t(t,e,i){var n=this;this.audioGraph=t,this.canvas=e,this.animation=i,this.frequencyIndex=7,this.imageWidth=0,this.imageHeight=0,this.lowerBorder=0,this.upperBorder=.8,this.numberOfStars=1e3,this.inspiertyVisV3=function(t,e,i){var a=n.audioGraph.getSpectrum(),r=n.calculateRelDataValue(a[n.frequencyIndex]);n.shootingStarProcessor.process(r,n.angle,e,i),n.drawStars(t,e,i),t.fillStyle="rgba(0, 0, 0, "+(1-r/2-.4)+")",t.fillRect(0,0,e,i),n.shootingStarProcessor.draw(t,e,i),n.drawRelDataValue&&(t.fillStyle="white",t.fillRect(0,i,50,-i*r)),n.drawImage(e,i,t,r)},this.angle=.3*Math.PI,this.targetAngle=this.angle,this.clockwise=1,this.speed=4,this.targetSpeed=this.speed,this.stars=[],this.updateStars=function(t){n.angling(t),n.speeding(t);for(var e=0;e<n.stars.length;e++){var i=n.stars[e];i.x+=Math.cos(n.angle)*t*4,i.y+=Math.sin(n.angle)*t*4}},this.drawStars=function(t,e,i){for(;n.stars.length<n.numberOfStars;)n.addStar(e,i);if(Math.random()>.9)for(var a=0;a<Math.round(5*Math.random());a++)n.stars.splice(0,1);t.fillStyle="white";for(a=0;a<n.stars.length;a++){var r=n.stars[a];t.beginPath(),t.arc(r.x,r.y,r.size/2,0,2*Math.PI),t.fill(),r.x>e?r.x=r.x-e:r.x<0&&(r.x=r.x+e),r.y>i?r.y=r.y-i:r.y<0&&(r.y=r.y+i)}},this.inspiertyLogoImage=new Image,this.inspiertyLogoImage.src=w.a,this.shootingStarProcessor=new x(this.animation);var a=new P(this.audioGraph);console.log(window.location.search);var r=window.location.search.substr(1).split("&").map(function(t){return t.split("=")}),o=["fi - frequencyIndex - 7","lb - lowerBorder - 0","ub - upperBorder - 0.8","spec - spec","rel - drawRelDataValue","fps - fps - 30","nos - numberOfStars - 1000"];console.log("methods:");for(var s=0;s<o.length;s++){var u=o[s];console.log(u)}for(var h=0,d=r;h<d.length;h++){var c=d[h];switch(c[0]){case"fi":this.frequencyIndex=+c[1];break;case"lb":this.lowerBorder=+c[1];break;case"ub":this.upperBorder=+c[1];break;case"spec":this.canvas.addDrawFunction(a.drawSpectrum);break;case"rel":this.drawRelDataValue=!0;break;case"fps":this.animation.setFps(+c[1]);break;case"nos":this.numberOfStars=+c[1]}}this.animation.addUpdateFunction(this.updateStars),this.canvas.addDrawFunction(this.inspiertyVisV3)}return t.prototype.drawImage=function(t,e,i,n){var a,r;this.imageWidth||(this.inspiertyLogoImage.naturalWidth/this.inspiertyLogoImage.naturalHeight>t/e?(a=t,r=this.inspiertyLogoImage.naturalHeight/this.inspiertyLogoImage.naturalWidth*t):(a=this.inspiertyLogoImage.naturalWidth/this.inspiertyLogoImage.naturalHeight*e,r=e),this.imageWidth=.8*a,this.imageHeight=.8*r);var o=e/3-this.imageHeight/2;i.drawImage(this.inspiertyLogoImage,t/2-this.imageWidth/2,o,this.imageWidth,this.imageHeight),i.beginPath(),i.globalCompositeOperation="lighter";var s=t/2-this.imageWidth/2+.4872*this.imageWidth,u=o+.4105*this.imageHeight,h=.0494*this.imageHeight*(n/2+.7)+0;if(s&&u&&h){var d=i.createRadialGradient(s,u,0,s,u,h);d.addColorStop(0,"rgba(255, 255, 255, "+n/2+")"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=d,i.arc(s,u,h,0,2*Math.PI),i.fill(),i.globalCompositeOperation="source-over"}},t.prototype.ease=function(t,e,i,n,a){var r=(e-t)/i;return r=r>1?1:r,n+I.easeInOutQuad(r)/I.easeInOutQuad(1)*(a-n)},t.prototype.addStar=function(t,e){this.stars.push({x:Math.random()*t,y:Math.random()*e,size:Math.random()*(t/600)+.4})},t.prototype.speeding=function(t){this.speed==this.targetSpeed?this.targetSpeed=10*Math.random()+2:this.speed>this.targetSpeed?(this.speed-=.1*t,this.speed<this.targetSpeed&&(this.speed=this.targetSpeed)):(this.speed+=.1*t,this.speed>this.targetSpeed&&(this.speed=this.targetSpeed))},t.prototype.angling=function(t){if(this.angle==this.targetAngle){var e=Math.random()*Math.PI-Math.PI/2;this.targetAngle+=e,this.clockwise=e<0?-1:1}else{var i=.06*t*this.clockwise;this.angle<=this.targetAngle&&this.angle+i>=this.targetAngle||this.angle>=this.targetAngle&&this.angle+i<=this.targetAngle?this.angle=this.targetAngle:this.angle+=.06*t*this.clockwise}},t.prototype.calculateRelDataValue=function(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)},t}(),O=function(){function t(){this.preAnimation=function(t,e,i){t.clearRect(0,0,e,i)}}return t.prototype.run=function(){document.body.style.backgroundColor="black",this.canvas=y.createFullScreen(),this.animation=new a,this.animation.addUpdateFunction(this.canvas.draw),this.audioGraph=new f,-1!==window.location.search.substr(1).split("&").indexOf("mic")?(console.log("using microphone"),this.audioGraph.playStream()):(console.log("using audio"),this.audioGraph.playUrl(m.a)),this.canvas.addDrawFunction(this.preAnimation);new C(this.audioGraph,this.canvas,this.animation)},t}();document.addEventListener("DOMContentLoaded",function(){(new O).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvTG9nby5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9lQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYXVkaW8vYXVkaW9HcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Nob290aW5nU3RhclByb2Nlc3Nvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2ltYWdlUGl4ZWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXh0UHJvY2Vzc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvc2FtcGxlcy9hdWRpb1Zpc3VhbGl6YXRpb25TYW1wbGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFQW5pbWF0aW9uIiwiX3RoaXMiLCJ0aGlzIiwidXBkYXRlRnVuY3Rpb25zIiwiaXNSdW5uaW5nIiwiYWRkVXBkYXRlRnVuY3Rpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZVVwZGF0ZUZ1bmN0aW9uIiwic3BsaWNlIiwiaW5kZXhPZiIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vdyIsIkRhdGUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInRpbWVEaWZmIiwiX2kiLCJfYSIsImxlbmd0aCIsInVwZGF0ZUZ1bmN0aW9uIiwicGxheSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Q29kZSIsInBsYXlQYXVzZSIsImNvbnNvbGUiLCJsb2ciLCJwYXVzZSIsIkF1ZGlvR3JhcGhOb2RlIiwiYXVkaW9DdHgiLCJBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIiwiX3N1cGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRBdWRpb05vZGUiLCJhbmFseXNlck5vZGUiLCJpbml0aWFsaXplIiwiX19leHRlbmRzIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZ2V0U3BlY3RydW0iLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsImdldFdhdmUiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIiwiZGVzdGluYXRpb24iLCJhdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uX2V4dGVuZHMiLCJBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UiLCJ1cmwiLCJzb3VyY2UiLCJhdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VfZXh0ZW5kcyIsImF1ZGlvIiwiY3JlYXRlRWxlbWVudCIsImNvbnRyb2xzIiwic3JjIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwic2V0VGltZW91dCIsIkF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlIiwiYXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2VfZXh0ZW5kcyIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwidGhlbiIsInN0cmVhbSIsImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlIiwiY2F0Y2giLCJlcnIiLCJhbGVydCIsImF1ZGlvR3JhcGhfQXVkaW9HcmFwaCIsIkF1ZGlvR3JhcGgiLCJwbGF5VXJsIiwic291cmNlTm9kZSIsInN0YXRlIiwiYnVpbGRHcmFwaCIsInBsYXlTdHJlYW0iLCJkb2N1bWVudENsaWNrIiwicmVzdW1lIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCIsIkF1ZGlvQ29udGV4dCIsImFuYWx5emVyTm9kZSIsImRlc3RpbmF0aW9uTm9kZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiRUNhbnZhcyIsImRyYXdGdW5jdGlvbnMiLCJyZXNpemUiLCJjYW52YXMiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZHJhdyIsImRyYXdGdW5jdGlvbiIsImN0eCIsImFkZERyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwibWFyZ2luIiwib3ZlcmZsb3ciLCJhcHBlbmRDaGlsZCIsImVuQ2FudmFzIiwiZ2V0Q29udGV4dCIsIndpbmRvdyIsIlNob290aW5nU3RhclByb2Nlc3NvciIsImFuaW1hdGlvbiIsImxpbWl0Iiwic3Bhd25XYWl0ZXIiLCJzaG9vdGluZ1N0YXJzIiwicHJvY2VzcyIsInJlbERhdGFWYWx1ZSIsImFuZ2xlIiwiTWF0aCIsInJhbmRvbSIsIngiLCJjb3MiLCJ5Iiwic2luIiwiUEkiLCJzcGVlZCIsInNpemUiLCJyb3VuZCIsInVwZGF0ZSIsInNob290aW5nU3RhciIsInJlbW92ZUlzIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lQ2FwIiwiaiIsImRyYXdTaG9vdGluZ1N0YXJQYXJ0IiwiYXJjIiwiZmlsbCIsInJlbW92ZUkiLCJsaW5lV2lkdGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJJbWFnZVBpeGVscyIsImhlbHBlcl9IZWxwZXIiLCJIZWxwZXIiLCJjaGFuZ2VGYXZpY29uIiwibGluayIsIm9sZExpbmsiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwicmVsIiwiaHJlZiIsImhlYWQiLCJyZW1vdmVDaGlsZCIsImdldFBpeGVscyIsInRleHQiLCJwaXhlbHMiLCJmaWxsUmVjdCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZvbnQiLCJmaWxsVGV4dCIsIm1lYXN1cmVUZXh0IiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiZGF0YSIsImciLCJiIiwiZmxvb3IiLCJyZXN1bHQiLCJjb2xvckltYWdlIiwiaW1hZ2UiLCJoIiwib25sb2FkIiwidGVtcENhbnZhcyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ0ZW1wQ3R4IiwiZHJhd0ltYWdlIiwicngiLCJneCIsImJ4IiwiZSIsImFicyIsInB1dEltYWdlRGF0YSIsInRvRGF0YVVSTCIsImNvbG9ySW1hZ2VBbnkiLCJjYWxsYmFjayIsIkVhc2VyIiwiVGV4dFByb2Nlc3NvciIsImFuaW1hdGlvblN0YXJ0IiwiZW5kVGltZSIsImFuaW1hdGVkUGl4ZWxzIiwiaXNJbml0aWFsaXplZCIsImlzRGVpbml0aWFsaXplZCIsInBpeGVsIiwic3RhcnRYIiwic3RhcnRZIiwidGFyZ2V0WCIsInRhcmdldFkiLCJzdGFydFNpemUiLCJ0YXJnZXRTaXplIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0aW1lIiwiZWFzaW5nIiwiRWFzaW5nRnVuY3Rpb25zIiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluUXVhcnQiLCJlYXNlIiwiZ2V0VmFsdWUiLCJzdGFydFRpbWUiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwic3RhcnRWYWx1ZSIsInRhcmdldFZhbHVlIiwiZWFzZUZ1bmMiLCJ0UmVsIiwic2NhbGVkVCIsIm1heFNjYWxlZFQiLCJsaW5lYXIiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsIkF1ZGlvVmlzdWFsaXphdGlvblNhbXBsZXMiLCJhdWRpb0dyYXBoIiwiZHJhd1NwZWN0cnVtIiwiYmFyV2lkdGgiLCJiYXJIZWlnaHQiLCJkcmF3V2F2ZSIsInNsaWNlV2lkdGgiLCJkcmF3U3BlY3RydW1BcmMiLCJwaVBhcnQiLCJkcmF3U3BlY3RydW1BcmNWMiIsInBpUGFydDIiLCJpbnNwaWVydHlBdWRpb1Zpc3VhbGl6YXRpb25fSW5zcGllcnR5QXVkaW9WaXN1YWxpemF0aW9uIiwiSW5zcGllcnR5QXVkaW9WaXN1YWxpemF0aW9uIiwiZnJlcXVlbmN5SW5kZXgiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJsb3dlckJvcmRlciIsInVwcGVyQm9yZGVyIiwibnVtYmVyT2ZTdGFycyIsImluc3BpZXJ0eVZpc1YzIiwiY2FsY3VsYXRlUmVsRGF0YVZhbHVlIiwic2hvb3RpbmdTdGFyUHJvY2Vzc29yIiwiZHJhd1N0YXJzIiwiZHJhd1JlbERhdGFWYWx1ZSIsInRhcmdldEFuZ2xlIiwiY2xvY2t3aXNlIiwidGFyZ2V0U3BlZWQiLCJzdGFycyIsInVwZGF0ZVN0YXJzIiwiYW5nbGluZyIsInNwZWVkaW5nIiwic3RhciIsImFkZFN0YXIiLCJpbnNwaWVydHlMb2dvSW1hZ2UiLCJJbWFnZSIsIkxvZ29fZGVmYXVsdCIsImEiLCJzYW1wbGVzIiwibG9jYXRpb24iLCJzZWFyY2giLCJrZXlWYWx1ZXMiLCJzdWJzdHIiLCJzcGxpdCIsIm1hcCIsIm1ldGhvZHMiLCJtZXRob2QiLCJrZXlWYWx1ZXNfMSIsIml0ZW0iLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJub3ZhWCIsIm5vdmFZIiwibm92YVIiLCJncmFkIiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJ0YXJnZXREZWx0YSIsInN0ZXBEZWx0YSIsImRhdGFWYWx1ZSIsImFwcF9BcHAiLCJBcHAiLCJwcmVBbmltYXRpb24iLCJjbGVhclJlY3QiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJUcmFpbGVyX0NvbnN0ZWxsYXRpb25fZGVmYXVsdCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVB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RUFBRyxFQUFHMU0sRUFBT0UsSUFFbkMsT0F2QldzTSxFQUFBaFQsVUFBQW1ULElBQVAsV0FDSXJSLFNBQVNvRixLQUFLRSxNQUFNZ00sZ0JBQWtCLFFBQ3RDOVMsS0FBS2lHLE9BQVNILEVBQVFhLG1CQUN0QjNHLEtBQUtzSCxVQUFZLElBQUl4SCxFQUNyQkUsS0FBS3NILFVBQVVuSCxrQkFBa0JILEtBQUtpRyxPQUFPSyxNQUU3Q3RHLEtBQUtnUCxXQUFhLElBQUlsSyxHQUM4QyxJQUFoRXNDLE9BQU9pSyxTQUFTQyxPQUFPRSxPQUFPLEdBQUdDLE1BQU0sS0FBS2pSLFFBQVEsUUFDcERxQixRQUFRQyxJQUFJLG9CQUNaOUIsS0FBS2dQLFdBQVc1SixlQUVoQnZELFFBQVFDLElBQUksZUFDWjlCLEtBQUtnUCxXQUFXaEssUUFBUStOLEVBQUE1QixJQUc1Qm5SLEtBQUtpRyxPQUFPUSxnQkFBZ0J6RyxLQUFLMlMsY0FFUixJQUFJakQsRUFBNEIxUCxLQUFLZ1AsV0FBWWhQLEtBQUtpRyxPQUFRakcsS0FBS3NILFlBTXBHb0wsRUE1QkEsR0NKQWxSLFNBQVNDLGlCQUFpQixtQkFFMUIsWUFDYyxJQUFJZ1IsR0FDWkksUUFKOEMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVmMTI5NjFmNjY3ODZkNTc5ZjM5ODVjMTlmZWEzMDNiLm9nZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc3NjExMDdiZjJhNjFjNDk4ODdlYzdiMjU3YmU5MDU2LnBuZ1wiOyIsImV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlQYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInBsYXlcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYXVzZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZUZ1bmN0aW9uIG9mIHRoaXMudXBkYXRlRnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jdGlvbih0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQXVkaW9HcmFwaE5vZGU8VD4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBdWRpb05vZGUoKTogVDtcclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGU8QW5hbHlzZXJOb2RlPiB7XHJcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcclxuICAgIGJ1ZmZlckxlbmd0aDogbnVtYmVyO1xyXG4gICAgZGF0YUFycmF5OiBVaW50OEFycmF5O1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQW5hbHlzZXJOb2RlID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUgPSAzMjtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjk7XHJcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcclxuICAgICAgICB0aGlzLmRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZTxBdWRpb0Rlc3RpbmF0aW9uTm9kZT4ge1xyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb0Rlc3RpbmF0aW9uTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb247XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGU8TWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlPiB7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcbiAgICBhdWRpbzogSFRNTEF1ZGlvRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XHJcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmF1ZGlvKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGU8TWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU+IHtcclxuICAgIHNvdXJjZTogTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSA9PiB7XHJcbiAgICAgICAgLy8gYXN5bmMhISFcclxuICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUsIHZpZGVvOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAudGhlbigoc3RyZWFtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJlcnJvcjE5MjMwMTIyNThcIilcclxuICAgICAgICAgICAgICAgIC8qIGhhbmRsZSB0aGUgZXJyb3IgKi9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaCB7XHJcbiAgICBwcml2YXRlIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQ7XHJcblxyXG4gICAgcHJpdmF0ZSBzb3VyY2VOb2RlOiBBdWRpb0dyYXBoTm9kZTxBdWRpb05vZGU+O1xyXG4gICAgcHJpdmF0ZSBhbmFseXplck5vZGU6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcbiAgICBwcml2YXRlIGRlc3RpbmF0aW9uTm9kZTogQXVkaW9HcmFwaE5vZGU8QXVkaW9EZXN0aW5hdGlvbk5vZGU+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb0N0eC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQpO1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGNvbnRleHQgaXMgc3VzcGVuZGVkLiBDbGljayB0aGUgZG9tIHRvIG1ha2UgaXQgcnVubmluZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIodGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbih0aGlzLmF1ZGlvQ3R4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpb0N0eCwgdXJsKTtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5U3RyZWFtID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSh0aGlzLmF1ZGlvQ3R4KTtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZG9jdW1lbnRDbGljayA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkKTtcclxuICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRHcmFwaCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkaW5nIGF1ZGlvIGdyYXBoLlwiKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBub3QgYXZhaWxhYmxlLiBXYWl0aW5nIHNvbWUgdGltZS5cIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFNwZWN0cnVtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFdhdmUoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgdHlwZSBEcmF3RnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUNhbnZhcyB7XHJcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIHByaXZhdGUgZHJhd0Z1bmN0aW9uczogRHJhd0Z1bmN0aW9uW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGdWxsU2NyZWVuKCk6IEVDYW52YXMge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgIHZhciBlbkNhbnZhcyA9IG5ldyBFQ2FudmFzKCk7XHJcbiAgICAgICAgZW5DYW52YXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGVuQ2FudmFzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGVuQ2FudmFzLnJlc2l6ZSk7XHJcbiAgICAgICAgZW5DYW52YXMucmVzaXplKCk7XHJcbiAgICAgICAgcmV0dXJuIGVuQ2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjYW52YXMucmVzaXplKClcIik7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVEcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnNwbGljZSh0aGlzLmRyYXdGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4vZW5jL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuL2VuYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNob290aW5nU3RhciB9IGZyb20gXCIuL3Nob290aW5nU3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNob290aW5nU3RhclByb2Nlc3NvciB7XHJcbiAgICBwdWJsaWMgbGltaXQgPSA1O1xyXG4gICAgcHVibGljIHNwYXduV2FpdGVyID0gMDtcclxuICAgIHB1YmxpYyBzaG9vdGluZ1N0YXJzOiBTaG9vdGluZ1N0YXJbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYW5pbWF0aW9uOiBFQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24odGhpcy51cGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzID0gKHJlbERhdGFWYWx1ZTogbnVtYmVyLCBhbmdsZTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNob290aW5nU3RhcnMubGVuZ3RoIDw9IHRoaXMubGltaXQgJiYgdGhpcy5zcGF3bldhaXRlciA8PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpICogcmVsRGF0YVZhbHVlID4gMC45KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHdpZHRoIC8gMiAtIE1hdGguY29zKGFuZ2xlKSAqIHdpZHRoIC8gMS41ICsgKHdpZHRoICogTWF0aC5yYW5kb20oKSAtIHdpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGhlaWdodCAvIDIgLSBNYXRoLnNpbihhbmdsZSkgKiB3aWR0aCAvIDEuNSArIChoZWlnaHQgKiBNYXRoLnJhbmRvbSgpIC0gaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNob290aW5nIHN0YXJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG9vdGluZ1N0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZTogYW5nbGUgKyBNYXRoLlBJIC8gMTYgKiBNYXRoLnJhbmRvbSgpIC0gTWF0aC5QSSAvIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA2MDAgKyBNYXRoLnJhbmRvbSgpICogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDMpICsgMlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwYXduV2FpdGVyID0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduV2FpdGVyLS07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaG9vdGluZ1N0YXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob290aW5nU3RhciA9IHRoaXMuc2hvb3RpbmdTdGFyc1tpXTtcclxuICAgICAgICAgICAgc2hvb3RpbmdTdGFyLnggKz0gTWF0aC5jb3Moc2hvb3RpbmdTdGFyLmFuZ2xlKSAqIHRpbWVEaWZmICogc2hvb3RpbmdTdGFyLnNwZWVkO1xyXG4gICAgICAgICAgICBzaG9vdGluZ1N0YXIueSArPSBNYXRoLnNpbihzaG9vdGluZ1N0YXIuYW5nbGUpICogdGltZURpZmYgKiBzaG9vdGluZ1N0YXIuc3BlZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCByZW1vdmVJczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZUNhcCA9IFwicm91bmRcIjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNob290aW5nU3RhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hvb3RpbmdTdGFyID0gdGhpcy5zaG9vdGluZ1N0YXJzW2ldO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IHNob290aW5nU3Rhci5zaXplOyBqID4gMDsgaiAtPSAwLjUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1Nob290aW5nU3RhclBhcnQoY3R4LCAwLjUsIHNob290aW5nU3RhciwgaiAqIGogKiBqKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LmFyYyhzaG9vdGluZ1N0YXIueCwgc2hvb3RpbmdTdGFyLnksIDEsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzaG9vdGluZ1N0YXIueCA+IHdpZHRoICogMyB8fCBzaG9vdGluZ1N0YXIueCA8IC13aWR0aCAqIDIgfHwgc2hvb3RpbmdTdGFyLnkgPiBoZWlnaHQgKiAzIHx8IHNob290aW5nU3Rhci55IDwgLWhlaWdodCAqIDIpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUlzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSByZW1vdmVJcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVJID0gcmVtb3ZlSXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMuc2hvb3RpbmdTdGFycy5zcGxpY2UocmVtb3ZlSSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhd1Nob290aW5nU3RhclBhcnQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGxpbmVXaWR0aDogbnVtYmVyLCBzaG9vdGluZ1N0YXI6IFNob290aW5nU3RhciwgbGVuZ3RoOiBudW1iZXIpIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgICAgICBjdHgubW92ZVRvKHNob290aW5nU3Rhci54LCBzaG9vdGluZ1N0YXIueSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyhzaG9vdGluZ1N0YXIueCAtIE1hdGguY29zKHNob290aW5nU3Rhci5hbmdsZSkgKiBsZW5ndGgsIHNob290aW5nU3Rhci55IC0gTWF0aC5zaW4oc2hvb3RpbmdTdGFyLmFuZ2xlKSAqIGxlbmd0aCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9Qb2ludFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEltYWdlUGl4ZWxzIHtcclxuICAgIHB1YmxpYyBwaXhlbHM6IFBvaW50W107XHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcclxufSIsImltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4vUG9pbnRcIjtcclxuaW1wb3J0IHsgSW1hZ2VQaXhlbHMgfSBmcm9tIFwiLi9pbWFnZVBpeGVsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlbHBlciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbG9ySW1hZ2UgPSAoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsIGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICAgICAgdGVtcEN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VEYXRhID0gdGVtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGltYWdlRGF0YS5kYXRhW2kgKyAzXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYSA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyIC0gZyA+IDUwICYmIHIgLSBiID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAwLjU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGUgKiB1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGMgKiAoMSAtIE1hdGguYWJzKChoIC8gNjApICUgMiAtIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBlIC0gYztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGd4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMTIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDE4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAyNDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcnggPSAocnggKyBtKSAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSAoZ3ggKyBtKSAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnggPSAoYnggKyBtKSAqIDI1NTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2ldID0gcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyAxXSA9IGd4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgMl0gPSBieDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGVtcEN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IHRlbXBDYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHsgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb2xvckltYWdlQW55ID0gKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBoOiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgICAgIHRlbXBDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gdGVtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICBpZiAoYSA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgaCA9IGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgdSA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IDAuNTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGUgKiB1O1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBjICogKDEgLSBNYXRoLmFicygoaCAvIDYwKSAlIDIgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGUgLSBjO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByeDtcclxuICAgICAgICAgICAgICAgIHZhciBneDtcclxuICAgICAgICAgICAgICAgIHZhciBieDtcclxuICAgICAgICAgICAgICAgIGlmIChoIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDEyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBneCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMTgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICBieCA9IHg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAyNDApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gYztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBneCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSBjO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0geDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJ4ID0gKHJ4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICBneCA9IChneCArIG0pICogMjU1O1xyXG4gICAgICAgICAgICAgICAgYnggPSAoYnggKyBtKSAqIDI1NTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpXSA9IHJ4O1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDFdID0gZ3g7XHJcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgMl0gPSBieDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0ZW1wQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xyXG5cclxuICAgICAgICBpbWFnZS5zcmMgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW1hZ2VEYXRhID0gKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBjYWxsYmFjazogKGltYWdlRGF0YTogSW1hZ2VEYXRhKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgICAgICAgICB0ZW1wQ3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY2hhbmdlRmF2aWNvbihzcmM6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpLFxyXG4gICAgICAgICAgICBvbGRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtZmF2aWNvbicpO1xyXG4gICAgICAgIGxpbmsuaWQgPSAnZHluYW1pYy1mYXZpY29uJztcclxuICAgICAgICBsaW5rLnJlbCA9ICdzaG9ydGN1dCBpY29uJztcclxuICAgICAgICBsaW5rLmhyZWYgPSBzcmM7XHJcbiAgICAgICAgaWYgKG9sZExpbmspIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChvbGRMaW5rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFBpeGVscyh0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgcGl4ZWxzOiBQb2ludFtdID0gW107XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDEwMDA7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDIwMDtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gNTA7XHJcbiAgICAgICAgY3R4LmZvbnQgPSBoZWlnaHQgKyBcInB4IEdhcmFtb25kXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIDAsIDApO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcbiAgICAgICAgICAgIGlmIChyICsgZyArIGIgPiAzMDApIHtcclxuICAgICAgICAgICAgICAgIHBpeGVscy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB4OiBpIC8gNCAtIE1hdGguZmxvb3IoaSAvIDQgLyBpbWFnZURhdGEud2lkdGgpICogaW1hZ2VEYXRhLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoaSAvIDQgLyBpbWFnZURhdGEud2lkdGgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEltYWdlUGl4ZWxzKCk7XHJcbiAgICAgICAgcmVzdWx0LnBpeGVscyA9IHBpeGVscztcclxuICAgICAgICByZXN1bHQud2lkdGggPSB3aWR0aDtcclxuICAgICAgICByZXN1bHQuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4vZW5jL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9lbmMvUG9pbnRcIjtcclxuaW1wb3J0IHsgSGVscGVyIH0gZnJvbSBcIi4vZW5jL2hlbHBlclwiO1xyXG5pbXBvcnQgeyBUZXh0UGl4ZWwgfSBmcm9tIFwiLi90ZXh0UGl4ZWxcIjtcclxuaW1wb3J0IHsgSW1hZ2VQaXhlbHMgfSBmcm9tIFwiLi9lbmMvaW1hZ2VQaXhlbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0UHJvY2Vzc29yIHtcclxuICAgIGFuaW1hdGVkUGl4ZWxzOiBUZXh0UGl4ZWxbXSA9IFtdO1xyXG4gICAgcGl4ZWxzOiBJbWFnZVBpeGVscztcclxuXHJcbiAgICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgaXNEZWluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb24sIHRleHQ6IHN0cmluZywgcHJpdmF0ZSBhbmltYXRpb25TdGFydDogbnVtYmVyLCBwdWJsaWMgZW5kVGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24odGhpcy51cGRhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLnBpeGVscyA9IEhlbHBlci5nZXRQaXhlbHModGV4dCk7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gMjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGl4ZWxzLnBpeGVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBpeGVscy5waXhlbHNbaV0ueCAqPSBzY2FsZTtcclxuICAgICAgICAgICAgdGhpcy5waXhlbHMucGl4ZWxzW2ldLnkgKj0gc2NhbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGl4ZWxzLndpZHRoICo9IHNjYWxlO1xyXG4gICAgICAgIHRoaXMucGl4ZWxzLmhlaWdodCAqPSBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcyA9IChyZWxEYXRhVmFsdWU6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGl4ZWxzLnBpeGVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaXhlbCA9IHRoaXMucGl4ZWxzLnBpeGVsc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRYID0gTWF0aC5yYW5kb20oKSAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFkgPSBNYXRoLnJhbmRvbSgpICogaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRQaXhlbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WDogc3RhcnRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IHN0YXJ0WSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogc3RhcnRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBzdGFydFksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFg6IHdpZHRoIC8gMiAtIHRoaXMucGl4ZWxzLndpZHRoIC8gMiArIHBpeGVsLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFk6IGhlaWdodCAvIDQgKiAzIC0gdGhpcy5waXhlbHMuaGVpZ2h0IC8gMiArIHBpeGVsLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0U2l6ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2l6ZTogTWF0aC5yYW5kb20oKSAqIDEuNSArIDAuNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IE1hdGgucmFuZG9tKCkgKiA0ICsgMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IHRoaXMuYW5pbWF0aW9uU3RhcnQgKyBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5kVGltZSA8PSBEYXRlLm5vdygpIC8gMTAwMCAmJiAhdGhpcy5pc0RlaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0RlaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0ZWRQaXhlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmFuaW1hdGVkUGl4ZWxzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFggPSBNYXRoLnJhbmRvbSgpICogd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0WSA9IE1hdGgucmFuZG9tKCkgKiBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkUGl4ZWxzW2ldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WDogcC54LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WTogcC55LFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IHAueCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WDogdGFyZ2V0WCxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZOiB0YXJnZXRZLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0U2l6ZTogcC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IHAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRTaXplOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBNYXRoLnJhbmRvbSgpICogMiArIDEuNSxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGFydDogRGF0ZS5ub3coKSAvIDEwMDAgKyBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMDtcclxuICAgICAgICBpZiAodGltZSA+PSB0aGlzLmFuaW1hdGlvblN0YXJ0ICYmIHRpbWUgPD0gdGhpcy5lbmRUaW1lICsgMTApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGVkUGl4ZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5hbmltYXRlZFBpeGVsc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwLmFuaW1hdGlvblN0YXJ0ICYmIHRpbWUgPj0gcC5hbmltYXRpb25TdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlYXNpbmcgPSB0aGlzLmlzRGVpbml0aWFsaXplZCA/IEVhc2luZ0Z1bmN0aW9ucy5lYXNlT3V0UXVhcnQgOiBFYXNpbmdGdW5jdGlvbnMuZWFzZUluUXVhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVhc2UgPSBuZXcgRWFzZXIocC5hbmltYXRpb25TdGFydCwgdGltZSwgcC5hbmltYXRpb25EdXJhdGlvbiwgZWFzaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBwLnggPSBlYXNlLmdldFZhbHVlKHAuc3RhcnRYLCBwLnRhcmdldFgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHAueSA9IGVhc2UuZ2V0VmFsdWUocC5zdGFydFksIHAudGFyZ2V0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5zaXplID0gZWFzZS5nZXRWYWx1ZShwLnN0YXJ0U2l6ZSwgcC50YXJnZXRTaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAvIDEwMDAgPj0gdGhpcy5hbmltYXRpb25TdGFydCkge1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNhM2QzZmZcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzEzYzNmZlwiO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0ZWRQaXhlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmFuaW1hdGVkUGl4ZWxzW2ldO1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4LmFyYyhwLngsIHAueSwgcC5zaXplLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZWFzZShzdGFydFRpbWU6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgc3RhcnRWYWx1ZTogbnVtYmVyLCB0YXJnZXRWYWx1ZTogbnVtYmVyLCBlYXNlRnVuYzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHREZWx0YSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgIHZhciB0UmVsID0gdERlbHRhIC8gZHVyYXRpb247XHJcbiAgICAgICAgdFJlbCA9IHRSZWwgPiAxID8gMSA6IHRSZWw7XHJcbiAgICAgICAgdmFyIHNjYWxlZFQgPSBlYXNlRnVuYyh0UmVsKTtcclxuICAgICAgICB2YXIgbWF4U2NhbGVkVCA9IGVhc2VGdW5jKDEpO1xyXG4gICAgICAgIHZhciB4ID0gc3RhcnRWYWx1ZSArICh0YXJnZXRWYWx1ZSAtIHN0YXJ0VmFsdWUpICogKHNjYWxlZFQgLyBtYXhTY2FsZWRUKTtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVhc2VyIHtcclxuICAgIHNjYWxlZFQ6IG51bWJlcjtcclxuICAgIG1heFNjYWxlZFQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydFRpbWU6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgZWFzZUZ1bmM6ICh0OiBudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHZhciB0RGVsdGEgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcclxuICAgICAgICB2YXIgdFJlbCA9IHREZWx0YSAvIGR1cmF0aW9uO1xyXG4gICAgICAgIHRSZWwgPSB0UmVsID4gMSA/IDEgOiB0UmVsO1xyXG4gICAgICAgIHRoaXMuc2NhbGVkVCA9IGVhc2VGdW5jKHRSZWwpO1xyXG4gICAgICAgIHRoaXMubWF4U2NhbGVkVCA9IGVhc2VGdW5jKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYWx1ZSA9IChzdGFydFZhbHVlOiBudW1iZXIsIHRhcmdldFZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArICh0YXJnZXRWYWx1ZSAtIHN0YXJ0VmFsdWUpICogKHRoaXMuc2NhbGVkVCAvIHRoaXMubWF4U2NhbGVkVCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFYXNpbmdGdW5jdGlvbnMge1xyXG4gICAgcHVibGljIHN0YXRpYyBsaW5lYXIgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluUXVhZCA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZU91dFF1YWQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0ICogKDIgLSB0KSB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJbk91dFF1YWQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0IDwgLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJbkN1YmljID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCAqIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZU91dEN1YmljID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gKC0tdCkgKiB0ICogdCArIDEgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5PdXRDdWJpYyA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgPCAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDEgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5RdWFydCA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgKiB0ICogdCAqIHQgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlT3V0UXVhcnQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiAxIC0gKC0tdCkgKiB0ICogdCAqIHQgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5PdXRRdWFydCA9ICh0OiBudW1iZXIpID0+IHsgcmV0dXJuIHQgPCAuNSA/IDggKiB0ICogdCAqIHQgKiB0IDogMSAtIDggKiAoLS10KSAqIHQgKiB0ICogdCB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJblF1aW50ID0gKHQ6IG51bWJlcikgPT4geyByZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlYXNlT3V0UXVpbnQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiAxICsgKC0tdCkgKiB0ICogdCAqIHQgKiB0IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluT3V0UXVpbnQgPSAodDogbnVtYmVyKSA9PiB7IHJldHVybiB0IDwgLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSArIDE2ICogKC0tdCkgKiB0ICogdCAqIHQgKiB0IH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGggfSBmcm9tIFwiLi4vYXVkaW8vYXVkaW9HcmFwaFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvVmlzdWFsaXphdGlvblNhbXBsZXMge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd1NwZWN0cnVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmF1ZGlvR3JhcGguZ2V0U3BlY3RydW0oKTtcclxuICAgICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYmFyV2lkdGggPSB3aWR0aCAvIGJ1ZmZlckxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSBkYXRhW2ldIC8gMjtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdoc2woJyArICgyMzAgLSBiYXJIZWlnaHQgLyAxNTAgKiA1MCkgKyAnLCAxMDAlLCAnICsgKGJhckhlaWdodCAvIDE1MCAqIDUwICsgMjApICsgJyUpJztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGkgKiBiYXJXaWR0aCwgaGVpZ2h0LCBiYXJXaWR0aCAqIDAuNSwgLWJhckhlaWdodCAqIDIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd1dhdmUgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYXVkaW9HcmFwaC5nZXRXYXZlKCk7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG5cclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiKDE1MCwgMTUwLCAxNTApJztcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29uc3Qgc2xpY2VXaWR0aCA9IHdpZHRoIC8gKGxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGxldCB4ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gZGF0YVtpXSAvIDEyOC4wO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gdiAqIGhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4ICs9IHNsaWNlV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd1NwZWN0cnVtQXJjID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmF1ZGlvR3JhcGguZ2V0U3BlY3RydW0oKTtcclxuICAgICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcGlQYXJ0ID0gTWF0aC5QSSAqIDIgLyBidWZmZXJMZW5ndGggKiBpO1xyXG4gICAgICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSA1MCArIGRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5jb3MocGlQYXJ0KSAqIGJhckhlaWdodDtcclxuICAgICAgICAgICAgdmFyIHkgPSBNYXRoLnNpbihwaVBhcnQpICogYmFySGVpZ2h0O1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8od2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh3aWR0aCAvIDIgKyB4LCBoZWlnaHQgLyAyICsgeSk7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdoc2woJyArICgyMzAgLSBiYXJIZWlnaHQgLyAxNTAgKiA1MCkgKyAnLCAxMDAlLCAnICsgKGJhckhlaWdodCAvIDE1MCAqIDUwICsgMjApICsgJyUpJztcclxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDU7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdTcGVjdHJ1bUFyY1YyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hdWRpb0dyYXBoLmdldFNwZWN0cnVtKCk7XHJcbiAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHBpUGFydCA9IE1hdGguUEkgKiAyIC8gYnVmZmVyTGVuZ3RoICogaTtcclxuICAgICAgICAgICAgdmFyIHBpUGFydDIgPSBNYXRoLlBJICogMiAvIGJ1ZmZlckxlbmd0aCAqIChpICsgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhckhlaWdodCA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICBjdHguYXJjKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgYmFySGVpZ2h0LCBwaVBhcnQsIHBpUGFydDIpXHJcblxyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2hzbCgnICsgKDIzMCAtIChiYXJIZWlnaHQgLSAxMDApIC8gMTUwICogNTApICsgJywgMTAwJSwgJyArICgoYmFySGVpZ2h0IC0gMTAwKSAvIDE1MCAqIDUwICsgMjApICsgJyUpJztcclxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTG9nb1BuZyBmcm9tIFwiLi9hc3NldHMvTG9nby5wbmdcIlxyXG5pbXBvcnQgeyBBdWRpb0dyYXBoIH0gZnJvbSBcIi4vZW5jL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VuYy9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4vc3RhclwiO1xyXG5pbXBvcnQgeyBTaG9vdGluZ1N0YXJQcm9jZXNzb3IgfSBmcm9tIFwiLi9zaG9vdGluZ1N0YXJQcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgVGV4dFByb2Nlc3NvciwgRWFzaW5nRnVuY3Rpb25zIH0gZnJvbSBcIi4vdGV4dFByb2Nlc3NvclwiO1xyXG5pbXBvcnQgeyBBdWRpb1Zpc3VhbGl6YXRpb25TYW1wbGVzIH0gZnJvbSBcIi4vZW5jL3NhbXBsZXMvYXVkaW9WaXN1YWxpemF0aW9uU2FtcGxlc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluc3BpZXJ0eUF1ZGlvVmlzdWFsaXphdGlvbiB7XHJcbiAgICBwcml2YXRlIGZyZXF1ZW5jeUluZGV4ID0gNztcclxuXHJcbiAgICBzaG9vdGluZ1N0YXJQcm9jZXNzb3I6IFNob290aW5nU3RhclByb2Nlc3NvcjtcclxuICAgIGluc3BpZXJ0eUxvZ29JbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHRleHRQcm9jZXNzb3I6IFRleHRQcm9jZXNzb3I7XHJcbiAgICBpbWFnZVdpZHRoOiBudW1iZXIgPSAwO1xyXG4gICAgaW1hZ2VIZWlnaHQ6IG51bWJlciA9IDA7XHJcbiAgICBsb3dlckJvcmRlciA9IDA7XHJcbiAgICB1cHBlckJvcmRlciA9IDAuODtcclxuICAgIG51bWJlck9mU3RhcnMgPSAxMDAwO1xyXG4gICAgZHJhd1JlbERhdGFWYWx1ZTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGF1ZGlvR3JhcGg6IEF1ZGlvR3JhcGgsIHByaXZhdGUgY2FudmFzOiBFQ2FudmFzLCBwcml2YXRlIGFuaW1hdGlvbjogRUFuaW1hdGlvbikge1xyXG4gICAgICAgIHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2Uuc3JjID0gTG9nb1BuZztcclxuXHJcbiAgICAgICAgdGhpcy5zaG9vdGluZ1N0YXJQcm9jZXNzb3IgPSBuZXcgU2hvb3RpbmdTdGFyUHJvY2Vzc29yKHRoaXMuYW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIHNhbXBsZXMgPSBuZXcgQXVkaW9WaXN1YWxpemF0aW9uU2FtcGxlcyh0aGlzLmF1ZGlvR3JhcGgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICB2YXIga2V5VmFsdWVzID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHguc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZXRob2RzID0gW1xyXG4gICAgICAgICAgICBcImZpIC0gZnJlcXVlbmN5SW5kZXggLSA3XCIsXHJcbiAgICAgICAgICAgIFwibGIgLSBsb3dlckJvcmRlciAtIDBcIixcclxuICAgICAgICAgICAgXCJ1YiAtIHVwcGVyQm9yZGVyIC0gMC44XCIsXHJcbiAgICAgICAgICAgIFwic3BlYyAtIHNwZWNcIixcclxuICAgICAgICAgICAgXCJyZWwgLSBkcmF3UmVsRGF0YVZhbHVlXCIsXHJcbiAgICAgICAgICAgIFwiZnBzIC0gZnBzIC0gMzBcIixcclxuICAgICAgICAgICAgXCJub3MgLSBudW1iZXJPZlN0YXJzIC0gMTAwMFwiLFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtZXRob2RzOlwiKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGhvZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kc1tpXTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobWV0aG9kKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBrZXlWYWx1ZXMpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpdGVtWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmlcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyZXF1ZW5jeUluZGV4ID0gK2l0ZW1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibGJcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvd2VyQm9yZGVyID0gK2l0ZW1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidWJcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwcGVyQm9yZGVyID0gK2l0ZW1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3BlY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZERyYXdGdW5jdGlvbihzYW1wbGVzLmRyYXdTcGVjdHJ1bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3UmVsRGF0YVZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJmcHNcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5zZXRGcHMoK2l0ZW1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyT2ZTdGFycyA9ICtpdGVtWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbih0aGlzLnVwZGF0ZVN0YXJzKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5hZGREcmF3RnVuY3Rpb24odGhpcy5pbnNwaWVydHlWaXNWMyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbnNwaWVydHlWaXNWMyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hdWRpb0dyYXBoLmdldFNwZWN0cnVtKCk7XHJcbiAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IHRoaXMuY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFbdGhpcy5mcmVxdWVuY3lJbmRleF0pO1xyXG5cclxuICAgICAgICB0aGlzLnNob290aW5nU3RhclByb2Nlc3Nvci5wcm9jZXNzKHJlbERhdGFWYWx1ZSwgdGhpcy5hbmdsZSwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1N0YXJzKGN0eCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgwLCAwLCAwLCBcIiArICgxIC0gcmVsRGF0YVZhbHVlIC8gMiAtIDAuNCkgKyBcIilcIlxyXG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG9vdGluZ1N0YXJQcm9jZXNzb3IuZHJhdyhjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kcmF3UmVsRGF0YVZhbHVlKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCBoZWlnaHQsIDUwLCAtaGVpZ2h0ICogcmVsRGF0YVZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0ltYWdlKHdpZHRoLCBoZWlnaHQsIGN0eCwgcmVsRGF0YVZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdJbWFnZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHJlbERhdGFWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlV2lkdGgpIHtcclxuICAgICAgICAgICAgdmFyIGltYWdlU2l6aW5nID0gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbFdpZHRoIC8gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgdmFyIHN0YWdlU2l6aW5nID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZVdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VIZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZVNpemluZyA+IHN0YWdlU2l6aW5nKSB7IC8vIHVzZSB3aWR0aCBhcyBsaW1pdFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VIZWlnaHQgPSB0aGlzLmluc3BpZXJ0eUxvZ29JbWFnZS5uYXR1cmFsSGVpZ2h0IC8gdGhpcy5pbnNwaWVydHlMb2dvSW1hZ2UubmF0dXJhbFdpZHRoICogd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHVzZSBoZWlnaHQgYXMgbGltaXRcclxuICAgICAgICAgICAgICAgIGltYWdlV2lkdGggPSB0aGlzLmluc3BpZXJ0eUxvZ29JbWFnZS5uYXR1cmFsV2lkdGggLyB0aGlzLmluc3BpZXJ0eUxvZ29JbWFnZS5uYXR1cmFsSGVpZ2h0ICogaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoID0gaW1hZ2VXaWR0aCAqIDAuODtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IGltYWdlSGVpZ2h0ICogMC44O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgeSA9IGhlaWdodCAvIDMgLSB0aGlzLmltYWdlSGVpZ2h0IC8gMjtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW5zcGllcnR5TG9nb0ltYWdlLCB3aWR0aCAvIDIgLSB0aGlzLmltYWdlV2lkdGggLyAyLCB5LCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJsaWdodGVyXCI7XHJcbiAgICAgICAgY29uc3Qgbm92YVggPSB3aWR0aCAvIDIgLSB0aGlzLmltYWdlV2lkdGggLyAyICsgdGhpcy5pbWFnZVdpZHRoICogMC40ODcyO1xyXG4gICAgICAgIGNvbnN0IG5vdmFZID0geSArIHRoaXMuaW1hZ2VIZWlnaHQgKiAwLjQxMDU7XHJcbiAgICAgICAgY29uc3Qgbm92YVIgPSB0aGlzLmltYWdlSGVpZ2h0ICogMC4wNDk0ICogKHJlbERhdGFWYWx1ZSAvIDIgKyAwLjcpICsgMC4wO1xyXG4gICAgICAgIGlmIChub3ZhWCAmJiBub3ZhWSAmJiBub3ZhUikge1xyXG4gICAgICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChub3ZhWCwgbm92YVksIDAsIG5vdmFYLCBub3ZhWSwgbm92YVIpO1xyXG4gICAgICAgICAgICBncmFkLmFkZENvbG9yU3RvcCgwLCAncmdiYSgyNTUsIDI1NSwgMjU1LCAnICsgKHJlbERhdGFWYWx1ZSAvIDIpICsgJyknKTtcclxuICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknKTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XHJcbiAgICAgICAgICAgIGN0eC5hcmMobm92YVgsIG5vdmFZLCBub3ZhUiwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIHN0ZXAgPSAwO1xyXG5cclxuICAgIC8vIHByaXZhdGUgcHJvY2Vzc1RleHQoZGF0YTogVWludDhBcnJheSwgcmVsRGF0YVZhbHVlOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgLy8gICAgIGlmIChkYXRhICYmIGRhdGFbMF0gJiYgdGhpcy5zdGVwID09IDApIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdGVwID0gMTtcclxuICAgIC8vICAgICAgICAgdGhpcy50ZXh0UHJvY2Vzc29yID0gbmV3IFRleHRQcm9jZXNzb3IodGhpcy5hbmltYXRpb24sIFwiRmFpbnQgY29sb3JcIiwgRGF0ZS5ub3coKSAvIDEwMDAsIERhdGUubm93KCkgLyAxMDAwICsgNDMpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAodGhpcy50ZXh0UHJvY2Vzc29yKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLnN0ZXAgPT0gMSAmJiBEYXRlLm5vdygpIC8gMTAwMCA+PSB0aGlzLnRleHRQcm9jZXNzb3IuZW5kVGltZSArIDIwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnN0ZXAgPSAyO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy50ZXh0UHJvY2Vzc29yID0gbmV3IFRleHRQcm9jZXNzb3IodGhpcy5hbmltYXRpb24sIFwiRGVlcCBGaWVsZFwiLCBEYXRlLm5vdygpIC8gMTAwMCArIDEsIERhdGUubm93KCkgLyAxMDAwICsgMjIuNSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuc3RlcCA9PSAyICYmIERhdGUubm93KCkgLyAxMDAwID49IHRoaXMudGV4dFByb2Nlc3Nvci5lbmRUaW1lICsgNCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zdGVwID0gMztcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMudGV4dFByb2Nlc3NvciA9IG5ldyBUZXh0UHJvY2Vzc29yKHRoaXMuYW5pbWF0aW9uLCBcIkRyaWZ0aW5nIGludG8gdGhlIGF0bW9zcGhlcmVcIiwgRGF0ZS5ub3coKSAvIDEwMDAgKyAxLCBEYXRlLm5vdygpIC8gMTAwMCArIDMwKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBpZiAodGhpcy5zdGVwID09IDMgJiYgRGF0ZS5ub3coKSAvIDEwMDAgPj0gdGhpcy50ZXh0UHJvY2Vzc29yLmVuZFRpbWUgKyA0KSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnN0ZXAgPSA0O1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy50ZXh0UHJvY2Vzc29yID0gbmV3IFRleHRQcm9jZXNzb3IodGhpcy5hbmltYXRpb24sIFwiRnJvbSB0aGUgYWxidW0gY29uc3RlbGxhdGlvblwiLCBEYXRlLm5vdygpIC8gMTAwMCArIDEsIERhdGUubm93KCkgLyAxMDAwICsgMzApO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGV4dFByb2Nlc3Nvci5wcm9jZXNzKHJlbERhdGFWYWx1ZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGV4dFByb2Nlc3Nvci5kcmF3KGN0eCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHByaXZhdGUgZWFzZShzdGFydFRpbWU6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgc3RhcnRWYWx1ZTogbnVtYmVyLCB0YXJnZXRWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHREZWx0YSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgIHZhciB0UmVsID0gdERlbHRhIC8gZHVyYXRpb247XHJcbiAgICAgICAgdFJlbCA9IHRSZWwgPiAxID8gMSA6IHRSZWw7XHJcbiAgICAgICAgdmFyIHNjYWxlZFQgPSBFYXNpbmdGdW5jdGlvbnMuZWFzZUluT3V0UXVhZCh0UmVsKTtcclxuICAgICAgICB2YXIgbWF4U2NhbGVkVCA9IEVhc2luZ0Z1bmN0aW9ucy5lYXNlSW5PdXRRdWFkKDEpO1xyXG4gICAgICAgIHZhciB4ID0gc3RhcnRWYWx1ZSArICh0YXJnZXRWYWx1ZSAtIHN0YXJ0VmFsdWUpICogKHNjYWxlZFQgLyBtYXhTY2FsZWRUKTtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRpbWVUb01vdmU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgeFN0YXJ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHhUYXJnZXQ6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGFuZ2xlID0gTWF0aC5QSSAqIDAuMztcclxuICAgIHByaXZhdGUgdGFyZ2V0QW5nbGUgPSB0aGlzLmFuZ2xlO1xyXG4gICAgcHJpdmF0ZSBjbG9ja3dpc2UgPSAxO1xyXG5cclxuICAgIHByaXZhdGUgc3BlZWQgPSA0O1xyXG4gICAgcHJpdmF0ZSB0YXJnZXRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFyczogU3RhcltdID0gW11cclxuICAgIHByaXZhdGUgdXBkYXRlU3RhcnMgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5nbGluZyh0aW1lRGlmZik7XHJcbiAgICAgICAgdGhpcy5zcGVlZGluZyh0aW1lRGlmZik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXIgPSB0aGlzLnN0YXJzW2ldO1xyXG4gICAgICAgICAgICBzdGFyLnggKz0gTWF0aC5jb3ModGhpcy5hbmdsZSkgKiB0aW1lRGlmZiAqIDQ7XHJcbiAgICAgICAgICAgIHN0YXIueSArPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSAqIHRpbWVEaWZmICogNDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3U3RhcnMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhcnMubGVuZ3RoIDwgdGhpcy5udW1iZXJPZlN0YXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3Rhcih3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFycy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFyID0gdGhpcy5zdGFyc1tpXTtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguYXJjKHN0YXIueCwgc3Rhci55LCBzdGFyLnNpemUgLyAyLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXIueCA9IHN0YXIueCAtIHdpZHRoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXIueCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHN0YXIueCA9IHN0YXIueCArIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3Rhci55ID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnkgPSBzdGFyLnkgLSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3Rhci55IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci55ID0gc3Rhci55ICsgaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkU3Rhcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiB3aWR0aCxcclxuICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIGhlaWdodCxcclxuICAgICAgICAgICAgc2l6ZTogTWF0aC5yYW5kb20oKSAqICh3aWR0aCAvIDYwMCkgKyAwLjRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNwZWVkaW5nKHRpbWVEaWZmOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5zcGVlZCA9PSB0aGlzLnRhcmdldFNwZWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0U3BlZWQgPSBNYXRoLnJhbmRvbSgpICogMTAgKyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3BlZWQgPiB0aGlzLnRhcmdldFNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVkIC09IDAuMSAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3BlZWQgPCB0aGlzLnRhcmdldFNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMudGFyZ2V0U3BlZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVkICs9IDAuMSAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3BlZWQgPiB0aGlzLnRhcmdldFNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMudGFyZ2V0U3BlZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhbmdsaW5nKHRpbWVEaWZmOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmdsZSA9PSB0aGlzLnRhcmdldEFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXREZWx0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJIC0gTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0QW5nbGUgKz0gdGFyZ2V0RGVsdGE7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvY2t3aXNlID0gdGFyZ2V0RGVsdGEgPCAwID8gLTEgOiAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHN0ZXBEZWx0YSA9IHRpbWVEaWZmICogMC4wNiAqIHRoaXMuY2xvY2t3aXNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbmdsZSA8PSB0aGlzLnRhcmdldEFuZ2xlICYmIHRoaXMuYW5nbGUgKyBzdGVwRGVsdGEgPj0gdGhpcy50YXJnZXRBbmdsZVxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5hbmdsZSA+PSB0aGlzLnRhcmdldEFuZ2xlICYmIHRoaXMuYW5nbGUgKyBzdGVwRGVsdGEgPD0gdGhpcy50YXJnZXRBbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMudGFyZ2V0QW5nbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlICs9IHRpbWVEaWZmICogMC4wNiAqIHRoaXMuY2xvY2t3aXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IGRhdGFWYWx1ZSAvIDI1NTtcclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlIDwgdGhpcy5sb3dlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLmxvd2VyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlID4gdGhpcy51cHBlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLnVwcGVyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZmluYWxSZWxEYXRhVmFsdWUgPSAocmVsRGF0YVZhbHVlIC0gdGhpcy5sb3dlckJvcmRlcikgLyAodGhpcy51cHBlckJvcmRlciAtIHRoaXMubG93ZXJCb3JkZXIpO1xyXG4gICAgICAgIHJldHVybiBmaW5hbFJlbERhdGFWYWx1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoIH0gZnJvbSBcIi4vZW5jL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuaW1wb3J0IFRyYWlsZXJPZ2cgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4vZW5jL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgSW5zcGllcnR5QXVkaW9WaXN1YWxpemF0aW9uIH0gZnJvbSBcIi4vaW5zcGllcnR5QXVkaW9WaXN1YWxpemF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIGF1ZGlvR3JhcGg6IEF1ZGlvR3JhcGg7XHJcbiAgICBjYW52YXM6IEVDYW52YXM7XHJcbiAgICBhbmltYXRpb246IEVBbmltYXRpb247XHJcblxyXG4gICAgcHVibGljIHJ1bigpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IEVDYW52YXMuY3JlYXRlRnVsbFNjcmVlbigpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbih0aGlzLmNhbnZhcy5kcmF3KTtcclxuXHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoID0gbmV3IEF1ZGlvR3JhcGgoKTtcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpLmluZGV4T2YoXCJtaWNcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNpbmcgbWljcm9waG9uZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0dyYXBoLnBsYXlTdHJlYW0oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzaW5nIGF1ZGlvXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvR3JhcGgucGxheVVybChUcmFpbGVyT2dnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZERyYXdGdW5jdGlvbih0aGlzLnByZUFuaW1hdGlvbik7XHJcblxyXG4gICAgICAgIHZhciBpbnNwaWVydHlBbmltYXRpb24gPSBuZXcgSW5zcGllcnR5QXVkaW9WaXN1YWxpemF0aW9uKHRoaXMuYXVkaW9HcmFwaCwgdGhpcy5jYW52YXMsIHRoaXMuYW5pbWF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByZUFuaW1hdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcclxuICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9